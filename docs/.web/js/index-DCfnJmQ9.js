import{R as c,j as e,F as m,x as u,q as t,w as x}from"./index-CEV2tErd.js";import{d as s}from"./dayjs.min-CxUS51uB.js";import{u as g}from"./index.esm-DkjyXxMi.js";import{i as o}from"./index.esm-Bg5LkWwD.js";function _(){const[p,h]=c.useState(s()),a=c.useRef(null);c.useEffect(()=>(a.current=setInterval(()=>{h(s())},1e3),()=>{a.current&&clearInterval(a.current)}),[]);const[n,l]=g({timestamp:Date.now(),inputTime:s().format("YYYY-MM-DD HH:mm:ss"),now_tz:8,target_tz:8},"tool__time-format__cache"),d=()=>{const i=s(o(n.timestamp)?Number(n.timestamp):n.timestamp,"x").valueOf(),r=(Number(n.target_tz)-new Date().getTimezoneOffset()/-60)*36e5;return s(i+r,"x").format("YYYY-MM-DD HH:mm:ss")},j=()=>{const i=s(n.inputTime,"YYYY-MM-DD HH:mm:ss").valueOf(),r=(Number(n.target_tz)-Number(n.now_tz))*36e5;return s(i+r,"x").format("YYYY-MM-DD HH:mm:ss")};return e.jsxs(m,{column:!0,className:"tool__time-format",style:{fontSize:14},children:[e.jsx("h3",{children:"现在"}),e.jsxs(u,{style:{gridTemplateColumns:"150px 250px 100px",lineHeight:"24px"},children:[e.jsx(t,{children:"时间戳"}),e.jsx(t,{children:p.valueOf()}),e.jsx(m,{alginCenter:!0,center:!0,style:{height:"100%"},children:e.jsx(x,{type:"primary",onClick:()=>{a.current&&clearInterval(a.current)},children:"Stop"})}),e.jsx(t,{children:"时间"}),e.jsx(t,{children:p.format("YYYY-MM-DD HH:mm:ss")}),e.jsx(m,{alginCenter:!0,center:!0,style:{height:"100%"},children:e.jsx(x,{type:"primary",onClick:()=>{l({timestamp:Date.now(),inputTime:s().format("YYYY-MM-DD HH:mm:ss"),now_tz:8,target_tz:8}),a.current=setInterval(()=>{h(s())},1e3)},children:"Reset"})})]}),e.jsx("h3",{children:"编辑"}),e.jsxs(u,{style:{gridTemplateColumns:"150px 250px 100px 150px 250px",alignContent:"center",lineHeight:"24px"},children:[e.jsx(t,{children:"时间戳 (13位)"}),e.jsx(t,{children:e.jsx("input",{type:"number",value:n.timestamp??"",onChange:i=>{l({timestamp:i.target.value})}})}),e.jsx(m,{alginCenter:!0,center:!0,style:{height:"100%"},children:e.jsx(x,{type:"primary",children:"转换"})}),e.jsx(t,{children:"时间"}),e.jsx(t,{children:s(o(n.timestamp)?Number(n.timestamp):n.timestamp,"x").format("YYYY-MM-DD HH:mm:ss")}),e.jsx(t,{children:"时间"}),e.jsx(t,{children:e.jsx("input",{type:"text",value:n.inputTime??"",onChange:i=>{l({inputTime:i.target.value})}})}),e.jsx(m,{alginCenter:!0,center:!0,style:{height:"100%"},children:e.jsx(x,{type:"primary",children:"转换"})}),e.jsx(t,{children:"时间戳 (13位)"}),e.jsx(t,{children:s(n.inputTime,"YYYY-MM-DD HH:mm:ss").valueOf()})]}),e.jsx("h3",{children:"时间戳 + 时区"}),e.jsxs(u,{style:{gridTemplateColumns:"150px 250px 100px 150px 250px",alignContent:"center",lineHeight:"24px"},children:[e.jsx(t,{children:"时间戳 (13位)"}),e.jsx(t,{children:e.jsx("input",{type:"number",value:n.timestamp??"",onChange:i=>{l({timestamp:i.target.value})}})}),e.jsx(t,{children:"目标时区 (GMT)"}),e.jsx(t,{children:e.jsx("input",{type:"number",value:n.target_tz??0,onChange:i=>{let r=Number(i.target.value);r>12&&(r=12),r<-12&&(r=-12),l({target_tz:r})}})}),e.jsxs(u,{style:{gridColumn:"3 / -1",gridRow:"1 / 3",gridTemplateColumns:"100px 150px 250px",alignItems:"center",height:"100%"},children:[e.jsx(m,{center:!0,children:e.jsx(x,{type:"primary",children:"转换"})}),e.jsx(t,{children:"时间"}),e.jsx(t,{children:d()})]})]}),e.jsx("h3",{children:"时间 + 时区"}),e.jsxs(u,{style:{gridTemplateColumns:"150px 250px 100px 150px 250px",alignContent:"center",lineHeight:"24px"},children:[e.jsx(t,{children:"时间"}),e.jsx(t,{children:e.jsx("input",{type:"text",value:n.inputTime??"",onChange:i=>{l({inputTime:i.target.value})}})}),e.jsx(t,{children:"时间"}),e.jsx(t,{children:j()}),e.jsx(m,{alginCenter:!0,center:!0,style:{gridColumn:"3",gridRow:"1 / 3",height:"100%"},children:e.jsx(x,{type:"primary",children:"转换"})}),e.jsx(t,{children:"当期时区 (GMT)"}),e.jsx(t,{children:e.jsx("input",{type:"number",value:n.now_tz??0,onChange:i=>{let r=Number(i.target.value);r>12&&(r=12),r<-12&&(r=-12),l({now_tz:r})}})}),e.jsx(t,{children:"目标时区 (GMT)"}),e.jsx(t,{children:e.jsx("input",{type:"number",value:n.target_tz??0,onChange:i=>{let r=Number(i.target.value);r>12&&(r=12),r<-12&&(r=-12),l({target_tz:r})}})})]})]})}export{_ as default};
