"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[5329],{5329:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var l=n(8780),a=n(5296),c=(e,t,n)=>new Promise((l,a)=>{var c=e=>{try{r(n.next(e))}catch(e){a(e)}},o=e=>{try{r(n.throw(e))}catch(e){a(e)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(c,o);r((n=n.apply(e,t)).next())});const o=()=>{const e=a.useRef(null),t=a.useRef(null),n=()=>c(null,null,function*(){const t=window.html2canvas;return(yield t(e.current,{allowTaint:!0,useCORS:!0,backgroundColor:"#000"})).toDataURL("image/png")});return{domRef:e,previewRef:t,handle:{downloadImage:()=>c(null,null,function*(){const e=yield n();(new Image).src=e;const t=document.createElement("a");t.download="filename.png",t.href=e,t.click()}),domToImage:()=>c(null,null,function*(){var e,l,a;const c=yield n(),o=new Image;o.src=c,(null==(l=null==(e=t.current)?void 0:e.childNodes)?void 0:l[0])&&t.current.removeChild(t.current.childNodes[0]),null==(a=t.current)||a.appendChild(o)})}}},r=()=>{const e="https://html2canvas.hertzen.com/dist/html2canvas.min.js";a.useEffect(()=>{const t=document.createElement("script");return t.src=e,t.onload=()=>{console.log(e,"已加载")},document.body.appendChild(t),()=>{document.body.removeChild(t)}},[])},d={xAxis:{type:"value"},yAxis:{type:"value"},series:[{symbolSize:10,data:[[10,8.04],[8.07,6.95],[13,7.58],[9.05,8.81],[11,8.33],[14,7.66],[13.4,6.81],[10,6.33],[14,8.96],[12.5,6.82],[9.15,7.2],[11.5,7.2],[3.03,4.23],[12.2,7.83],[2.02,4.47],[1.05,3.33],[4.05,4.96],[6.03,7.24],[12,6.26],[12,8.84],[7.08,5.82],[5.02,5.68]],type:"scatter"}]};function i(){r();const e=o();return a.createElement(l.so,{column:!0,className:"dev__dom-to-image"},a.createElement("div",null,"DOM转图片"),a.createElement(l.so,null,a.createElement(l.$n,{onClick:e.handle.domToImage},"Dom to Image"),a.createElement(l.$n,{onClick:e.handle.downloadImage},"Download Image")),a.createElement(l.xA,{columns:2,className:"container"},a.createElement("div",{className:"left"},a.createElement("h1",null,"DOM转图片示例"),a.createElement("div",{className:"target-element",ref:e.domRef,style:{padding:10}},a.createElement(l.t1,{style:{width:600,height:400,background:"#fff",zoom:".5"},options:d}),a.createElement("h2",null,"这是一个纯DOM元素"),a.createElement("p",null,"这段内容将被转换为图片"),a.createElement("div",{style:{display:"flex",gap:"20px",margin:"15px 0"}},a.createElement("div",{style:{width:"50px",height:"50px",backgroundColor:"#ff6b6b",borderRadius:"50%"}}),a.createElement("div",{style:{width:"50px",height:"50px",backgroundColor:"#4ecdc4"}})),a.createElement("p",null,"使用纯JavaScript实现转换"))),a.createElement("div",{className:"right"},a.createElement("h1",null,"DOM转图片预览"),a.createElement("div",{className:"preview-element",ref:e.previewRef}))))}}}]);