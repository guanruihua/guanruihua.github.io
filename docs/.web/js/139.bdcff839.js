"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[139],{3139:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var l=t(6540),c=t(7317),n=t(1083),s=(e,a,t)=>new Promise((l,c)=>{var n=e=>{try{r(t.next(e))}catch(e){c(e)}},s=e=>{try{r(t.throw(e))}catch(e){c(e)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,s);r((t=t.apply(e,a)).next())});const r=()=>{const e="tool/vector-data-viewer|cache",[a,t]=(0,c.xI)({databaseName:"lanceDB",selectTableName:"",tableNames:[],dataSource:[]},e),r=()=>s(null,null,function*(){var a;const l=(()=>{const a=localStorage.getItem(e)||"{}";try{return JSON.parse(a)}catch(e){}return{}})(),c=yield(0,n.A)({url:"http://localhost:2400/vector/tableNames",method:"get"});l.tableNames=(null==(a=null==c?void 0:c.data)?void 0:a.data)||[],console.log("init ...",c.data),t(l)});return l.useEffect(()=>{r()},[]),{state:a,setState:t,handleSelectTableName:e=>s(null,null,function*(){t({selectTableName:e});const a=yield(0,n.A)({method:"get",url:"http://localhost:2400/vector/table/get",headers:{"Content-Type":"application/json"},params:{name:e}}),{data:l}=(null==a?void 0:a.data)||{};if(l){const a=null==l?void 0:l.map(e=>{const{id:a,text:t}=e;return{id:a,text:t}});t({selectTableName:e,dataSource:a})}})}};var o=t(1742);function m(){var e,a;const{state:t,setState:c,handleSelectTableName:n}=r();return l.createElement("div",{className:"tool-vector-data-viewer"},l.createElement("h3",{className:"title"},t.databaseName),l.createElement("div",{className:"viewer-box"},l.createElement("div",{className:"left-aside"},l.createElement("div",{className:"table-name-box"},null==(e=null==t?void 0:t.tableNames)?void 0:e.map(e=>l.createElement(o.i,{key:e,className:"table-name",classNames:{select:e===t.selectTableName},onClick:()=>n(e)},e)))),l.createElement("div",{className:"content"},l.createElement("div",{className:"data-viewer"},l.createElement("div",{className:"header no"},"No."),l.createElement("div",{className:"header id"},"ID"),l.createElement("div",{className:"header text"},"Text"),null==(a=null==t?void 0:t.dataSource)?void 0:a.map((e,a)=>{const{id:t,text:c}=e;return l.createElement(l.Fragment,{key:t},l.createElement("div",{className:"no"},a+1),l.createElement("div",{className:"id"},t),l.createElement("div",{className:"text"},c))})))))}}}]);