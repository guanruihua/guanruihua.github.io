import{c as r,R as c,j as o}from"./index-7AVPOSWK.js";import{u as l}from"./index.esm-DM2Qo4RF.js";import{g as a}from"./helper-QT8_qCDf.js";import"./index.esm-B6V8xwJH.js";const d=()=>{const t=r.c(4);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={selectFileType:"",review:""},t[0]=n):n=t[0];const[i,e]=l(n,"dev/file-review|cache");let s;return t[1]!==e||t[2]!==i?(s={state:i,setState:e},t[1]=e,t[2]=i,t[3]=s):s=t[3],s};function u(){const{state:t,setState:n}=d(),i=async e=>{const s=await a(e);console.log(s),n({review:s})};return c.useEffect(()=>{const e=document.createElement("script");return e.src="/js/pdf/2.12.313/pdf.min.js",e.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="/js/pdf/2.12.313/pdf.worker.min.js",console.log("PDF.js 已加载")},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),o.jsx("div",{className:"tool-file-review",children:o.jsxs("div",{className:"content",children:[o.jsxs("div",{className:"controls",children:[o.jsx("h5",{children:"md, txt, docx, pdf"}),o.jsx("input",{type:"file",onChange:e=>{const s=e.target.files?.[0];i(s)}})]}),o.jsx("div",{className:"review",children:o.jsx("pre",{children:t.review})})]})})}export{u as default};
