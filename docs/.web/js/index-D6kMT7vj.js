import{c as g,R,j as i,g as v}from"./index-aQzay7cd.js";import{S as b}from"./conf-CODKstcH.js";import{d as Y}from"./dayjs.min-DsAe7P2p.js";import{u as A}from"./index.esm-BPD0CqBh.js";import{b as N,i as E}from"./index.esm-DEqtexvw.js";const T=()=>{const e=g.c(11);let t,y;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=Y(),y=t.startOf("year"),e[0]=t,e[1]=y):(t=e[0],y=e[1]);const x=y;let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={holiday:[],adjustmentDay:[]},e[2]=h):h=e[2];const[f,l]=A(h);let n;if(e[3]!==l){const _=o=>{if(!N(o))return;const r={holiday:[],adjustmentDay:[]};o.forEach(M=>{if(!N(M))return;const[,,j,S]=M;E(j)&&j.split(",").forEach(d=>{if(d.includes("-")){const[m,w]=d.split("-");let s=Y(t.year()+"/"+m,"YYYY/MM/DD");const p=Y(t.year()+"/"+w,"YYYY/MM/DD");for(;s.isBefore(p)||s.isSame(p,"day");)r.holiday.push(s.format("YYYY/MM/DD")),s=s.add(1,"day")}else{const m=Y(t.year()+"/"+d,"YYYY/MM/DD").format("YYYY/MM/DD");r.holiday.push(m)}}),E(S)&&S.split(",").forEach(d=>{if(d.includes("-")){const[m,w]=d.split("-");let s=Y(t.year()+"/"+m,"YYYY/MM/DD");const p=Y(t.year()+"/"+w,"YYYY/MM/DD");for(;s.isBefore(p)||s.isSame(p,"day");)r.adjustmentDay.push(s.format("YYYY/MM/DD")),s=s.add(1,"day")}else{const m=Y(t.year()+"/"+d,"YYYY/MM/DD").format("YYYY/MM/DD");r.adjustmentDay.push(m)}})}),l(r)};n=async()=>{fetch(b+`holiday/2025.json?t=${Date.now()}`).then(async o=>{const r=await o.json();_(r)}).catch(console.error)},e[3]=l,e[4]=n}else n=e[4];const u=n;let D;e[5]!==u?(D=()=>{u()},e[5]=u,e[6]=D):D=e[6];let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=[],e[7]=c):c=e[7],R.useEffect(D,c);let a;return e[8]!==l||e[9]!==f?(a={state:f,setState:l,startTime:x,ft:"YYYY/MM/DD",now:t},e[8]=l,e[9]=f,e[10]=a):a=e[10],a},z=()=>{const{state:e,startTime:t,ft:y,now:x}=T();return i.jsx("div",{className:"tool-ddl-container",children:i.jsx("div",{className:"days-grid",children:new Array(12).fill("").map((h,f)=>{const l=f,n=t.set("M",l),u=n.daysInMonth(),D=n.day()>0?n.day()-1:6;return i.jsxs(v,{className:"M-cell",children:[i.jsx("h3",{children:n.format("YYYY MM")}),i.jsxs("div",{className:"layout",children:[["一","二","三","四","五","六","日"].map((c,a)=>i.jsx("div",{className:"day-cell timeline",children:c},"timeline"+a)),new Array(D).fill("").map((c,a)=>i.jsx("div",{className:"day-cell space"},"s"+a)),new Array(u).fill("").map((c,a)=>{const _=a+1,o=n.set("D",_),r=o.format("D"),M=o.format(y),j=e.holiday?.includes(M),S=e.adjustmentDay?.includes(M);return i.jsx(v,{className:"day-cell",classNames:{today:x.isSame(o,"D"),weekend:[0,6].includes(o.day()),holiday:j,adjustmentDay:S},children:r},a)})]})]},f)})})})};export{z as default};
