"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[3009],{2942:(t,i,e)=>{e.d(i,{gQ:()=>r,ni:()=>a});var n=e(5296);const a=(t,i,e)=>{n.useEffect(()=>{const n=document.createElement("script");return n.src=t,n.onload=()=>{null==i||i()},document.body.appendChild(n),()=>{null==e||e(),document.body.removeChild(n)}},[])};var s=(t,i,e)=>new Promise((n,a)=>{var s=t=>{try{o(e.next(t))}catch(t){a(t)}},r=t=>{try{o(e.throw(t))}catch(t){a(t)}},o=t=>t.done?n(t.value):Promise.resolve(t.value).then(s,r);o((e=e.apply(t,i)).next())});function r(t){const[i,e]=n.useState("");return n.useEffect(()=>{s(null,null,function*(){const i=localStorage.getItem(t);i&&e(i||""),fetch(t).then(i=>s(null,null,function*(){const n=yield i.text();localStorage.setItem(t,n||""),e(n)})).catch(console.error)})},[]),[i,e]}},3009:(t,i,e)=>{e.r(i),e.d(i,{default:()=>u});var n=e(5296),a=e(2942),s=Object.defineProperty,r=(t,i,e)=>((t,i,e)=>i in t?s(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e)(t,"symbol"!=typeof i?i+"":i,e);class o{constructor(){r(this,"container",document.getElementById("cardStream")||null),r(this,"cardLine",document.getElementById("cardLine")||null),r(this,"speedIndicator",document.getElementById("speedValue")||null),r(this,"position",0),r(this,"velocity",120),r(this,"direction",-1),r(this,"isAnimating",!0),r(this,"isDragging",!1),r(this,"lastTime",0),r(this,"lastMouseX",0),r(this,"mouseVelocity",0),r(this,"friction",.95),r(this,"minVelocity",30),r(this,"containerWidth",0),r(this,"cardLineWidth",0),this.container=document.getElementById("cardStream"),this.cardLine=document.getElementById("cardLine"),this.speedIndicator=document.getElementById("speedValue"),this.position=0,this.velocity=120,this.direction=-1,this.isAnimating=!0,this.isDragging=!1,this.lastTime=0,this.lastMouseX=0,this.mouseVelocity=0,this.friction=.95,this.minVelocity=30,this.containerWidth=0,this.cardLineWidth=0,this.init()}init(){this.populateCardLine(),this.calculateDimensions(),this.setupEventListeners(),this.updateCardPosition(),this.animate(),this.startPeriodicUpdates()}calculateDimensions(){this.containerWidth=this.container.offsetWidth;const t=this.cardLine.children.length;this.cardLineWidth=460*t}setupEventListeners(){this.cardLine.addEventListener("mousedown",t=>this.startDrag(t)),document.addEventListener("mousemove",t=>this.onDrag(t)),document.addEventListener("mouseup",()=>this.endDrag()),this.cardLine.addEventListener("touchstart",t=>this.startDrag(t.touches[0]),{passive:!1}),document.addEventListener("touchmove",t=>this.onDrag(t.touches[0]),{passive:!1}),document.addEventListener("touchend",()=>this.endDrag()),this.cardLine.addEventListener("wheel",t=>this.onWheel(t)),this.cardLine.addEventListener("selectstart",t=>t.preventDefault()),this.cardLine.addEventListener("dragstart",t=>t.preventDefault()),window.addEventListener("resize",()=>this.calculateDimensions())}startDrag(t){t.preventDefault(),this.isDragging=!0,this.isAnimating=!1,this.lastMouseX=t.clientX,this.mouseVelocity=0;const i=window.getComputedStyle(this.cardLine).transform;if("none"!==i){const t=new DOMMatrix(i);this.position=t.m41}this.cardLine.style.animation="none",this.cardLine.classList.add("dragging"),document.body.style.userSelect="none",document.body.style.cursor="grabbing"}onDrag(t){if(!this.isDragging)return;t.preventDefault();const i=t.clientX-this.lastMouseX;this.position+=i,this.mouseVelocity=60*i,this.lastMouseX=t.clientX,this.cardLine.style.transform=`translateX(${this.position}px)`,this.updateCardClipping()}endDrag(){this.isDragging&&(this.isDragging=!1,this.cardLine.classList.remove("dragging"),Math.abs(this.mouseVelocity)>this.minVelocity?(this.velocity=Math.abs(this.mouseVelocity),this.direction=this.mouseVelocity>0?1:-1):this.velocity=120,this.isAnimating=!0,this.updateSpeedIndicator(),document.body.style.userSelect="",document.body.style.cursor="")}animate(){const t=performance.now(),i=(t-this.lastTime)/1e3;this.lastTime=t,this.isAnimating&&!this.isDragging&&(this.velocity>this.minVelocity?this.velocity*=this.friction:this.velocity=Math.max(this.minVelocity,this.velocity),this.position+=this.velocity*this.direction*i,this.updateCardPosition(),this.updateSpeedIndicator()),requestAnimationFrame(()=>this.animate())}updateCardPosition(){const t=this.containerWidth,i=this.cardLineWidth;this.position<-i?this.position=t:this.position>t&&(this.position=-i),this.cardLine.style.transform=`translateX(${this.position}px)`,this.updateCardClipping()}updateSpeedIndicator(){this.speedIndicator.textContent=Math.round(this.velocity)}toggleAnimation(){this.isAnimating=!this.isAnimating;document.querySelector(".control-btn").textContent=this.isAnimating?"‚è∏Ô∏è Pause":"‚ñ∂Ô∏è Play",this.isAnimating&&(this.cardLine.style.animation="none")}resetPosition(){this.position=this.containerWidth,this.velocity=120,this.direction=-1,this.isAnimating=!0,this.isDragging=!1,this.cardLine.style.animation="none",this.cardLine.style.transform=`translateX(${this.position}px)`,this.cardLine.classList.remove("dragging"),this.updateSpeedIndicator();document.querySelector(".control-btn").textContent="‚è∏Ô∏è Pause"}changeDirection(){this.direction*=-1,this.updateSpeedIndicator()}onWheel(t){t.preventDefault();const i=t.deltaY>0?20:-20;this.position+=i,this.updateCardPosition(),this.updateCardClipping()}generateCode(t,i){const e=(t,i)=>Math.floor(Math.random()*(i-t+1))+t,n=t=>t[e(0,t.length-1)],a=t=>[`class Particle${t} {`,"  constructor(x, y, vx, vy, r, a) {","    this.x = x; this.y = y;","    this.vx = vx; this.vy = vy;","    this.r = r; this.a = a;","  }","  step(dt) { this.x += this.vx * dt; this.y += this.vy * dt; }","}"],s=[];["// compiled preview ‚Ä¢ scanner demo","/* generated for visual effect ‚Äì not executed */","const SCAN_WIDTH = 8;","const FADE_ZONE = 35;","const MAX_PARTICLES = 2500;","const TRANSITION = 0.05;"].forEach(t=>s.push(t)),["function clamp(n, a, b) { return Math.max(a, Math.min(b, n)); }","function lerp(a, b, t) { return a + (b - a) * t; }","const now = () => performance.now();","function rng(min, max) { return Math.random() * (max - min) + min; }"].forEach(t=>s.push(t));for(let t=0;t<3;t++)a(t).forEach(t=>s.push(t));["const scanner = {","  x: Math.floor(window.innerWidth / 2),","  width: SCAN_WIDTH,","  glow: 3.5,","};","","function drawParticle(ctx, p) {","  ctx.globalAlpha = clamp(p.a, 0, 1);","  ctx.drawImage(gradient, p.x - p.r, p.y - p.r, p.r * 2, p.r * 2);","}"].forEach(t=>s.push(t)),["function tick(t) {","  // requestAnimationFrame(tick);","  const dt = 0.016;","  // update & render","}"].forEach(t=>s.push(t)),["const state = { intensity: 1.2, particles: MAX_PARTICLES };","const bounds = { w: window.innerWidth, h: 300 };","const gradient = document.createElement('canvas');","const ctx = gradient.getContext('2d');","ctx.globalCompositeOperation = 'lighter';","// ascii overlay is masked with a 3-phase gradient"].forEach(t=>s.push(t));for(let t=0;t<40;t++){const i=e(1,9),n=e(10,99);s.push(`const v${t} = (${i} + ${n}) * 0.${e(1,9)};`)}for(let t=0;t<20;t++)s.push(`if (state.intensity > ${1+t%3}) { scanner.glow += 0.01; }`);let r=s.join(" ");r=r.replace(/\s+/g," ").trim();const o=t*i;for(;r.length<o+t;){r+=" "+n(s).replace(/\s+/g," ").trim()}let h="",c=0;for(let e=0;e<i;e++){let n=r.slice(c,c+t);n.length<t&&(n+=" ".repeat(t-n.length)),h+=n+(e<i-1?"\n":""),c+=t}return h}calculateCodeDimensions(t,i){return{width:Math.floor(t/6),height:Math.floor(i/13),fontSize:11,lineHeight:13}}createCardWrapper(t){const i=document.createElement("div");i.className="card-wrapper";const e=document.createElement("div");e.className="card card-normal";const n=["https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b55e654d1341fb06f8_4.1.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5a080a31ee7154b19_1.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5c1e4919fd69672b8_3.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5f6a5e232e7beb4be_2.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5bea2f1b07392d936_4.png"],a=document.createElement("img");a.className="card-image",a.src=n[t%n.length],a.alt="Credit Card",a.onerror=()=>{const t=document.createElement("canvas");t.width=400,t.height=250;const i=t.getContext("2d"),e=i.createLinearGradient(0,0,400,250);e.addColorStop(0,"#667eea"),e.addColorStop(1,"#764ba2"),i.fillStyle=e,i.fillRect(0,0,400,250),a.src=t.toDataURL()},e.appendChild(a);const s=document.createElement("div");s.className="card card-ascii";const r=document.createElement("div");r.className="ascii-content";const{width:o,height:h,fontSize:c,lineHeight:l}=this.calculateCodeDimensions(400,250);return r.style.fontSize=c+"px",r.style.lineHeight=l+"px",r.textContent=this.generateCode(o,h),s.appendChild(r),i.appendChild(e),i.appendChild(s),i}updateCardClipping(){const t=window.innerWidth/2,i=t-4,e=t+4;let n=!1;document.querySelectorAll(".card-wrapper").forEach(t=>{const a=t.getBoundingClientRect(),s=a.left,r=a.right,o=a.width,h=t.querySelector(".card-normal"),c=t.querySelector(".card-ascii");if(s<e&&r>i){n=!0;const a=Math.max(i-s,0),r=a/o*100,l=Math.min(e-s,o)/o*100;if(h.style.setProperty("--clip-right",`${r}%`),c.style.setProperty("--clip-left",`${l}%`),!t.hasAttribute("data-scanned")&&a>0){t.setAttribute("data-scanned","true");const i=document.createElement("div");i.className="scan-effect",t.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},600)}}else r<i?(h.style.setProperty("--clip-right","100%"),c.style.setProperty("--clip-left","100%")):s>e&&(h.style.setProperty("--clip-right","0%"),c.style.setProperty("--clip-left","0%")),t.removeAttribute("data-scanned")}),window.setScannerScanning&&window.setScannerScanning(n)}updateAsciiContent(){document.querySelectorAll(".ascii-content").forEach(t=>{if(Math.random()<.15){const{width:i,height:e}=this.calculateCodeDimensions(400,250);t.textContent=this.generateCode(i,e)}})}populateCardLine(){this.cardLine.innerHTML="";for(let t=0;t<30;t++){const i=this.createCardWrapper(t);this.cardLine.appendChild(i)}}startPeriodicUpdates(){setInterval(()=>{this.updateAsciiContent()},200);const t=()=>{this.updateCardClipping(),requestAnimationFrame(t)};t()}}class h{constructor(){this.canvas=document.getElementById("scannerCanvas"),this.ctx=this.canvas.getContext("2d"),this.animationId=null,this.w=window.innerWidth,this.h=300,this.particles=[],this.count=0,this.maxParticles=800,this.intensity=.8,this.lightBarX=this.w/2,this.lightBarWidth=3,this.fadeZone=60,this.scanTargetIntensity=1.8,this.scanTargetParticles=2500,this.scanTargetFadeZone=35,this.scanningActive=!1,this.baseIntensity=this.intensity,this.baseMaxParticles=this.maxParticles,this.baseFadeZone=this.fadeZone,this.currentIntensity=this.intensity,this.currentMaxParticles=this.maxParticles,this.currentFadeZone=this.fadeZone,this.transitionSpeed=.05,this.setupCanvas(),this.createGradientCache(),this.initParticles(),this.animate(),window.addEventListener("resize",()=>this.onResize())}setupCanvas(){this.canvas.width=this.w,this.canvas.height=this.h,this.canvas.style.width=this.w+"px",this.canvas.style.height=this.h+"px",this.ctx.clearRect(0,0,this.w,this.h)}onResize(){this.w=window.innerWidth,this.lightBarX=this.w/2,this.setupCanvas()}createGradientCache(){this.gradientCanvas=document.createElement("canvas"),this.gradientCtx=this.gradientCanvas.getContext("2d"),this.gradientCanvas.width=16,this.gradientCanvas.height=16;const t=this.gradientCanvas.width/2,i=this.gradientCtx.createRadialGradient(t,t,0,t,t,t);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.3,"rgba(196, 181, 253, 0.8)"),i.addColorStop(.7,"rgba(139, 92, 246, 0.4)"),i.addColorStop(1,"transparent"),this.gradientCtx.fillStyle=i,this.gradientCtx.beginPath(),this.gradientCtx.arc(t,t,t,0,2*Math.PI),this.gradientCtx.fill()}random(t,i){return arguments.length<2&&(i=t,t=0),Math.floor(Math.random()*(i-t+1))+t}randomFloat(t,i){return Math.random()*(i-t)+t}createParticle(){const t=this.intensity/this.baseIntensity,i=1+1.2*(t-1),e=1+.7*(t-1);return{x:this.lightBarX+this.randomFloat(-this.lightBarWidth/2,this.lightBarWidth/2),y:this.randomFloat(0,this.h),vx:this.randomFloat(.2,1)*i,vy:this.randomFloat(-.15,.15)*i,radius:this.randomFloat(.4,1)*e,alpha:this.randomFloat(.6,1),decay:this.randomFloat(.005,.025)*(2-.5*t),originalAlpha:0,life:1,time:0,startX:0,twinkleSpeed:this.randomFloat(.02,.08)*i,twinkleAmount:this.randomFloat(.1,.25)}}initParticles(){for(let t=0;t<this.maxParticles;t++){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}}updateParticle(t){t.x+=t.vx,t.y+=t.vy,t.time++,t.alpha=t.originalAlpha*t.life+Math.sin(t.time*t.twinkleSpeed)*t.twinkleAmount,t.life-=t.decay,(t.x>this.w+10||t.life<=0)&&this.resetParticle(t)}resetParticle(t){t.x=this.lightBarX+this.randomFloat(-this.lightBarWidth/2,this.lightBarWidth/2),t.y=this.randomFloat(0,this.h),t.vx=this.randomFloat(.2,1),t.vy=this.randomFloat(-.15,.15),t.alpha=this.randomFloat(.6,1),t.originalAlpha=t.alpha,t.life=1,t.time=0,t.startX=t.x}drawParticle(t){if(t.life<=0)return;let i=1;t.y<this.fadeZone?i=t.y/this.fadeZone:t.y>this.h-this.fadeZone&&(i=(this.h-t.y)/this.fadeZone),i=Math.max(0,Math.min(1,i)),this.ctx.globalAlpha=t.alpha*i,this.ctx.drawImage(this.gradientCanvas,t.x-t.radius,t.y-t.radius,2*t.radius,2*t.radius)}drawLightBar(){const t=this.ctx.createLinearGradient(0,0,0,this.h);t.addColorStop(0,"rgba(255, 255, 255, 0)"),t.addColorStop(this.fadeZone/this.h,"rgba(255, 255, 255, 1)"),t.addColorStop(1-this.fadeZone/this.h,"rgba(255, 255, 255, 1)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx.globalCompositeOperation="lighter";const i=this.scanningActive?3.5:1;this.currentGlowIntensity||(this.currentGlowIntensity=1),this.currentGlowIntensity+=(i-this.currentGlowIntensity)*this.transitionSpeed;const e=this.currentGlowIntensity,n=this.lightBarWidth,a=this.scanningActive?1:.8,s=this.scanningActive?.8:.6,r=this.scanningActive?.6:.4,o=this.ctx.createLinearGradient(this.lightBarX-n/2,0,this.lightBarX+n/2,0);o.addColorStop(0,"rgba(255, 255, 255, 0)"),o.addColorStop(.3,`rgba(255, 255, 255, ${.9*e})`),o.addColorStop(.5,`rgba(255, 255, 255, ${1*e})`),o.addColorStop(.7,`rgba(255, 255, 255, ${.9*e})`),o.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx.globalAlpha=1,this.ctx.fillStyle=o;this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-n/2,0,n,this.h,15),this.ctx.fill();const h=this.ctx.createLinearGradient(this.lightBarX-2*n,0,this.lightBarX+2*n,0);h.addColorStop(0,"rgba(139, 92, 246, 0)"),h.addColorStop(.5,`rgba(196, 181, 253, ${.8*e})`),h.addColorStop(1,"rgba(139, 92, 246, 0)"),this.ctx.globalAlpha=a,this.ctx.fillStyle=h;this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-2*n,0,4*n,this.h,25),this.ctx.fill();const c=this.ctx.createLinearGradient(this.lightBarX-4*n,0,this.lightBarX+4*n,0);c.addColorStop(0,"rgba(139, 92, 246, 0)"),c.addColorStop(.5,`rgba(139, 92, 246, ${.4*e})`),c.addColorStop(1,"rgba(139, 92, 246, 0)"),this.ctx.globalAlpha=s,this.ctx.fillStyle=c;if(this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-4*n,0,8*n,this.h,35),this.ctx.fill(),this.scanningActive){const t=this.ctx.createLinearGradient(this.lightBarX-8*n,0,this.lightBarX+8*n,0);t.addColorStop(0,"rgba(139, 92, 246, 0)"),t.addColorStop(.5,"rgba(139, 92, 246, 0.2)"),t.addColorStop(1,"rgba(139, 92, 246, 0)"),this.ctx.globalAlpha=r,this.ctx.fillStyle=t;const i=45;this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-8*n,0,16*n,this.h,i),this.ctx.fill()}this.ctx.globalCompositeOperation="destination-in",this.ctx.globalAlpha=1,this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.w,this.h)}render(){const t=this.scanningActive?this.scanTargetIntensity:this.baseIntensity,i=this.scanningActive?this.scanTargetParticles:this.baseMaxParticles,e=this.scanningActive?this.scanTargetFadeZone:this.baseFadeZone;this.currentIntensity+=(t-this.currentIntensity)*this.transitionSpeed,this.currentMaxParticles+=(i-this.currentMaxParticles)*this.transitionSpeed,this.currentFadeZone+=(e-this.currentFadeZone)*this.transitionSpeed,this.intensity=this.currentIntensity,this.maxParticles=Math.floor(this.currentMaxParticles),this.fadeZone=this.currentFadeZone,this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,this.w,this.h),this.drawLightBar(),this.ctx.globalCompositeOperation="lighter";for(let t=1;t<=this.count;t++)this.particles[t]&&(this.updateParticle(this.particles[t]),this.drawParticle(this.particles[t]));const n=this.intensity,a=this.maxParticles;if(Math.random()<n&&this.count<a){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}const s=this.intensity/this.baseIntensity;if(s>1.1&&Math.random()<1.2*(s-1)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(s>1.3&&Math.random()<1.4*(s-1.3)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(s>1.5&&Math.random()<1.8*(s-1.5)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(s>2&&Math.random()<2*(s-2)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(this.count>a+200){const t=Math.min(15,this.count-a);for(let i=0;i<t;i++)delete this.particles[this.count-i];this.count-=t}}animate(){this.render(),this.animationId=requestAnimationFrame(()=>this.animate())}startScanning(){this.scanningActive=!0,console.log("Scanning started - intense particle mode activated")}stopScanning(){this.scanningActive=!1,console.log("Scanning stopped - normal particle mode")}setScanningActive(t){this.scanningActive=t,console.log("Scanning mode:",t?"active":"inactive")}getStats(){return{intensity:this.intensity,maxParticles:this.maxParticles,currentParticles:this.count,lightBarWidth:this.lightBarWidth,fadeZone:this.fadeZone,scanningActive:this.scanningActive,canvasWidth:this.w,canvasHeight:this.h}}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.particles=[],this.count=0}}var c=Object.defineProperty,l=(t,i,e)=>((t,i,e)=>i in t?c(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e)(t,"symbol"!=typeof i?i+"":i,e);class d{constructor(){l(this,"scene",null),l(this,"camera",null),l(this,"renderer",null),l(this,"particles",null),l(this,"particleCount",400),l(this,"canvas",document.getElementById("particleCanvas")),this.scene=null,this.camera=null,this.renderer=null,this.particles=null,this.particleCount=400,this.canvas=document.getElementById("particleCanvas"),this.init()}init(){this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,125,-125,1,1e3),this.camera.position.z=100,this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setSize(window.innerWidth,250),this.renderer.setClearColor(0,0),this.createParticles(),this.animate(),window.addEventListener("resize",()=>this.onWindowResize())}createParticles(){const t=new THREE.BufferGeometry,i=new Float32Array(3*this.particleCount),e=new Float32Array(3*this.particleCount),n=new Float32Array(this.particleCount),a=new Float32Array(this.particleCount),s=document.createElement("canvas");s.width=100,s.height=100;const r=s.getContext("2d"),o=s.width/2,h=r.createRadialGradient(o,o,0,o,o,o);h.addColorStop(.025,"#fff"),h.addColorStop(.1,"hsl(217, 61%, 33%)"),h.addColorStop(.25,"hsl(217, 64%, 6%)"),h.addColorStop(1,"transparent"),r.fillStyle=h,r.beginPath(),r.arc(o,o,o,0,2*Math.PI),r.fill();const c=new THREE.CanvasTexture(s);for(let t=0;t<this.particleCount;t++){i[3*t]=(Math.random()-.5)*window.innerWidth*2,i[3*t+1]=250*(Math.random()-.5),i[3*t+2]=0,e[3*t]=1,e[3*t+1]=1,e[3*t+2]=1;const s=200*Math.random()+100;n[t]=(Math.random()*(s-60)+60)/8,a[t]=60*Math.random()+30}t.setAttribute("position",new THREE.BufferAttribute(i,3)),t.setAttribute("color",new THREE.BufferAttribute(e,3)),t.setAttribute("size",new THREE.BufferAttribute(n,1)),this.velocities=a;const l=new Float32Array(this.particleCount);for(let t=0;t<this.particleCount;t++)l[t]=(8*Math.random()+2)/10;t.setAttribute("alpha",new THREE.BufferAttribute(l,1)),this.alphas=l;const d=new THREE.ShaderMaterial({uniforms:{pointTexture:{value:c},size:{value:15}},vertexShader:"\n        attribute float alpha;\n        varying float vAlpha;\n        varying vec3 vColor;\n        uniform float size;\n        \n        void main() {\n          vAlpha = alpha;\n          vColor = color;\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_PointSize = size;\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform sampler2D pointTexture;\n        varying float vAlpha;\n        varying vec3 vColor;\n        \n        void main() {\n          gl_FragColor = vec4(vColor, vAlpha) * texture2D(pointTexture, gl_PointCoord);\n        }\n      ",transparent:!0,blending:THREE.AdditiveBlending,depthWrite:!1,vertexColors:!0});this.particles=new THREE.Points(t,d),this.scene.add(this.particles)}animate(){if(requestAnimationFrame(()=>this.animate()),this.particles){const t=this.particles.geometry.attributes.position.array,i=this.particles.geometry.attributes.alpha.array,e=.001*Date.now();for(let n=0;n<this.particleCount;n++){t[3*n]+=.016*this.velocities[n],t[3*n]>window.innerWidth/2+100&&(t[3*n]=-window.innerWidth/2-100,t[3*n+1]=250*(Math.random()-.5)),t[3*n+1]+=.5*Math.sin(e+.1*n);const a=Math.floor(10*Math.random());1===a&&i[n]>0?i[n]-=.05:2===a&&i[n]<1&&(i[n]+=.05),i[n]=Math.max(0,Math.min(1,i[n]))}this.particles.geometry.attributes.position.needsUpdate=!0,this.particles.geometry.attributes.alpha.needsUpdate=!0}this.renderer.render(this.scene,this.camera)}onWindowResize(){this.camera.left=-window.innerWidth/2,this.camera.right=window.innerWidth/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,250)}destroy(){this.renderer&&this.renderer.dispose(),this.particles&&(this.scene.remove(this.particles),this.particles.geometry.dispose(),this.particles.material.dispose())}}const p=()=>{let t=null;return(0,a.ni)("/js/three.r128.min.js",()=>{console.log("load");window.innerWidth,window.innerWidth;let i=null,e=null;const n=window;t=new o,i=new d,e=new h,n.setScannerScanning=t=>{e&&e.setScanningActive(t)},n.getScannerStats=()=>e?e.getStats():null}),{toggleAnimation:function(){t&&t.toggleAnimation()},resetPosition:function(){t&&t.resetPosition()},changeDirection:function(){t&&t.changeDirection()}}};function u(){const{toggleAnimation:t,resetPosition:i,changeDirection:e}=p();return n.createElement("div",{className:"study__card-beam-animation"},n.createElement("div",{className:"controls"},n.createElement("button",{className:"control-btn",onClick:t},"‚è∏Ô∏è Pause"),n.createElement("button",{className:"control-btn",onClick:i},"üîÑ Reset"),n.createElement("button",{className:"control-btn",onClick:e},"‚ÜîÔ∏è Direction")),n.createElement("div",{className:"speed-indicator"},"Speed: ",n.createElement("span",{id:"speedValue"},"120")," px/s"),n.createElement("div",{className:"container"},n.createElement("canvas",{id:"particleCanvas"}),n.createElement("canvas",{id:"scannerCanvas"}),n.createElement("div",{className:"scanner"}),n.createElement("div",{className:"card-stream",id:"cardStream"},n.createElement("div",{className:"card-line",id:"cardLine"}))))}}}]);