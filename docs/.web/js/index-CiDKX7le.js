import{c as p,j as t,R as x}from"./index-BFOesgsR.js";async function j(e={}){const{params:o={},defaultValue:n={}}=e;try{o.apikey="demo";const s="https://www.alphavantage.co/query?"+new URLSearchParams(o).toString(),c=await fetch(s);return c.ok&&await c.json()||n}catch{return n}}function y(e){const o=p.c(5),{icon:n,color:s,size:c}=e,i=s===void 0?"currentColor":s,r=c===void 0?"":c,m=i?` icon--${i}`:"",d=r?` icon--${r}`:"",f=`icon${m}${d}`,a=`#${n}`;let l;o[0]!==a?(l=t.jsx("use",{href:a}),o[0]=a,o[1]=l):l=o[1];let u;return o[2]!==f||o[3]!==l?(u=t.jsx("svg",{className:f,width:"16px",height:"16px","aria-hidden":"true",children:l}),o[2]=f,o[3]=l,o[4]=u):u=o[4],u}function _(){const e=p.c(3);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("symbol",{id:"up",viewBox:"0 0 16 16",children:t.jsxs("g",{fill:"none",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",children:[t.jsx("polyline",{points:"2 8,8 2,14 8"}),t.jsx("polyline",{points:"8 2,8 14"})]})}),e[0]=o):o=e[0];let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("symbol",{id:"down",viewBox:"0 0 16 16",children:t.jsxs("g",{fill:"none",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",children:[t.jsx("polyline",{points:"8 2,8 14"}),t.jsx("polyline",{points:"2 8,8 14,14 8"})]})}),e[1]=n):n=e[1];let s;return e[2]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsxs("svg",{width:"0",height:"0",display:"none",children:[o,n,t.jsx("symbol",{id:"warning",viewBox:"0 0 16 16",children:t.jsxs("g",{fill:"none",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",children:[t.jsx("polygon",{points:"8 1,15 14,1 14"}),t.jsx("polyline",{points:"8 6,8 10"}),t.jsx("polyline",{points:"8 12,8 12"})]})})]}),e[2]=s):s=e[2],s}const h={coreStock:{function:"REALTIME_BULK_QUOTES",fields:["symbol","name","change","close","timestamp"],list:[{symbol:"IBM",name:"IBM"},{symbol:"MSFT",name:"Microsoft Corporation"},{symbol:"AAPL",name:"AAPL"}]}},S=e=>h.coreStock.list.find(o=>o.symbol===e)||{};function v(){const e=p.c(10);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];const[n,s]=x.useState(o);let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=async()=>{j({defaultValue:[],params:{function:h.coreStock.function,symbol:h.coreStock.list.map(k).join(",")}}).then(u=>s(u.data))},e[1]=c):c=e[1];const i=c;let r,m;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{i()},m=[],e[2]=r,e[3]=m):(r=e[2],m=e[3]),x.useEffect(r,m);let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(_,{}),e[4]=d):d=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx("h3",{children:"核心股票"}),e[5]=f):f=e[5];let a;e[6]!==n?(a=n?.map(b),e[6]=n,e[7]=a):a=e[7];let l;return e[8]!==a?(l=t.jsxs("div",{className:"info-page",children:[d,t.jsxs("div",{className:"core-stock module",children:[f,t.jsx("div",{className:"content",children:a})]})]}),e[8]=a,e[9]=l):l=e[9],l}function b(e,o){const{symbol:n}=e,{name:s}=S(n),c={name:s,...e};return t.jsx("div",{className:"card",children:h.coreStock.fields.map((i,r)=>{if(i==="change"){const m=c[i]||0,d=m<0?"down":"up";return t.jsxs("div",{className:`field ${i} ${d}`,children:[t.jsx(y,{icon:d}),m]},r)}return t.jsx("div",{className:"field "+i,children:c[i]},r)})},o)}function k(e){return e.symbol}export{v as default};
