"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[5830],{5830:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(6540);const i=250;const l=e=>10*Math.floor(e/10);var o=n(9218),u=Object.defineProperty,c=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(c)for(var n of c(t))s.call(t,n)&&d(e,n,t[n]);return e},p=(e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&s.call(e,r)&&(n[r]=e[r]);return n};function y(e){const t=e,{id:n,none:i,onDragStart:l,onDragging:u,onDragEnd:c,children:a}=t,s=p(t,["id","none","onDragStart","onDragging","onDragEnd","children"]),d=r.useRef(null),y=r.useRef({id:n,drag:!1,leaveLeft:!1,dragCount:0,offsetX:0,offsetY:0,lastX:-1,lastY:-1}),g=function(e,t){let n=null;return function(){n||(n=setTimeout(()=>{e.apply(this,arguments),n=null},t))}}(t=>{var n,r;if(null==(n=null==t?void 0:t.preventDefault)||n.call(t),null==(r=null==t?void 0:t.stopPropagation)||r.call(t),!d.current||!y.current.drag)return;const i=window.document.body.getBoundingClientRect(),l=d.current.getBoundingClientRect(),o=(e,t="x")=>{if(e<0)return 0;if("x"===t){const t=i.width-l.width;if(e>=t)return t}if("y"===t){const t=i.height-l.height;if(e>=t)return t}return e},c=o(t.clientX-y.current.offsetX,"x"),a=o(t.clientY-y.current.offsetY,"y");d.current.style.left=c+"px",d.current.style.top=a+"px",null==u||u(d,y.current,e)},10);function v(){d.current&&(y.current.offsetX=0,y.current.offsetY=0,y.current.drag=!1,y.current.dragCount=y.current.dragCount+1,d.current.style.opacity="none",d.current.style.zIndex="1",d.current.style.opacity="1",d.current.style.border="none",document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v),null==c||c(d,y.current,e))}return r.createElement("div",f({className:(0,o.xW)("ele",{none:i}),ref:d,onMouseDown:function(t){var n,r;if(null==(n=null==t?void 0:t.preventDefault)||n.call(t),null==(r=null==t?void 0:t.stopPropagation)||r.call(t),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v),!d.current)return;const i=d.current.getBoundingClientRect();y.current.lastX=Number(d.current.style.left.replace("px",""))||0,y.current.lastY=Number(d.current.style.top.replace("px",""))||0,y.current.offsetX=t.clientX-i.left,y.current.offsetY=t.clientY-i.top,y.current.drag=!0,d.current.style.opacity=".8",d.current.style.zIndex="10000",d.current.style.border="1px solid rgba(255,255,255, 9)",document.addEventListener("mousemove",g),document.addEventListener("mouseup",v),null==l||l(d,y.current,e)}},s),a)}var g=n(7317);const v=()=>{const[e,t]=(0,g.xI)({selectId:"",list:[{id:"1",type:"sider"}]}),n=t=>{var n;return null==(n=e.list)?void 0:n.find(e=>e.id===t)},r=()=>{var t;return(((null==(t=e.list)?void 0:t.length)||0)+1).toString()};return{state:e,setState:t,updateState:(e,t)=>{},find:n,inSider:e=>{var t;return"sider"===(null==(t=n(e))?void 0:t.type)},inContent:e=>{var t;return"content"===(null==(t=n(e))?void 0:t.type)},getId:r,to:(t,n)=>{e.list&&(e.list=e.list.map(e=>(e.id===t&&(e.type=n),e)))},create:()=>{const t={id:r(),type:"sider"};e.list?e.list.push(t):e.list=[t]},del:t=>{e.list&&(e.list=e.list.map(e=>(e.id===t&&(e.type="del"),e)))}}};function m(){var e;const t=v(),{state:n,setState:o}=t,u=(e,t)=>{o({selectId:t.id})},c=(e,t)=>{if(!e.current)return;const n=e.current.getBoundingClientRect(),r=document.querySelector(".auxiliary-line.auxiliary-line-x"),o=document.querySelector(".auxiliary-line.auxiliary-line-y");r&&(r.style.top=l(n.top)+"px"),o&&(o.style.left=(n.left>i?l(n.left):i)+"px")},a=(e,r)=>{if(!e.current)return;const u=e.current.getBoundingClientRect(),{id:c}=r;n.list||(n.list=[]),u.left<i?(e.current.style.left="10px",e.current.style.top="10px",t.inContent(c)&&t.del(c)):(e.current.style.left=l(u.left)+"px",e.current.style.top=l(u.top)+"px",t.inSider(c)&&(t.create(),t.to(c,"content"))),o(n)};return r.createElement("div",{className:"study-drag"},r.createElement("div",{className:"sider"},null==(e=n.list)?void 0:e.map(({id:e,type:t})=>r.createElement(y,{key:e,id:e,onDragStart:u,onDragging:c,onDragEnd:a,none:"del"===t},e))),r.createElement("div",{className:"content"}),r.createElement("div",{className:"auxiliary-line auxiliary-line-x"}),r.createElement("div",{className:"auxiliary-line auxiliary-line-y"}))}},7317:(e,t,n)=>{n.d(t,{xI:()=>s});var r=n(6540);function i(e){return null==e||e!=e}function l(e){try{if("object"==typeof(t=e)&&!i(t)&&/Iterator\]$/.test(t.toString()))return"Iterator";const n=Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1];return"Number"===n&&isNaN(e)?"NaN":n}catch(e){return"Undefined"}var t}function o(e){return"string"==typeof e}const u=e=>"number"==typeof e&&"Number"===l(e);function c(e){return!i(e)&&(function(e){return Array.isArray(e)}(e)&&e.length>0)}const a="undefined"!=typeof window;function s(e={},t,n=localStorage){const[i,l]=(0,r.useState)(e),a=e=>{if(l(e),t)try{n.setItem(t,JSON.stringify(e))}catch(e){return void console.warn(e)}};return(0,r.useEffect)(()=>{if(t)try{const e=n.getItem(t);if(!e||"{}"===e)return;a(JSON.parse(e))}catch(e){return}},[t,n]),[i,(e,t=!1)=>{const n="function"==typeof e?e(i):e;a(t?n:{...i,...n})},t=>{if(c(t)){const n={...i};return t.forEach(t=>{(o(t)||u(t))&&(n[t]=e[t])}),void a(n)}a(e)}]}a&&window?.navigator?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}}]);