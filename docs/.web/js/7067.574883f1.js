"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[7067],{6045:(e,t,n)=>{n.d(t,{xI:()=>f});var r=n(5296);function o(e){return null==e||e!=e}function i(e){try{if("object"==typeof(t=e)&&!o(t)&&/Iterator\]$/.test(t.toString()))return"Iterator";const n=Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1];return"Number"===n&&isNaN(e)?"NaN":n}catch(e){return"Undefined"}var t}function c(e){return"string"==typeof e}const a=e=>"number"==typeof e&&"Number"===i(e);function u(e){return!o(e)&&(function(e){return Array.isArray(e)}(e)&&e.length>0)}const s="undefined"!=typeof window;function f(e={},t,n=localStorage){const[o,i]=(0,r.useState)(e),s=e=>{if(i(e),t)try{n.setItem(t,JSON.stringify(e))}catch(e){return void console.warn(e)}};return(0,r.useEffect)(()=>{if(t)try{const e=n.getItem(t);if(!e||"{}"===e)return;s(JSON.parse(e))}catch(e){return}},[t,n]),[o,(e,t=!1)=>{const n="function"==typeof e?e(o):e;s(t?n:{...o,...n})},t=>{if(u(t)){const n={...o};return t.forEach(t=>{(c(t)||a(t))&&(n[t]=e[t])}),void s(n)}s(e)}]}s&&window?.navigator?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent)},7067:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(5296),o=n(6045);const i=()=>{const e=r.useRef(null),{Phaser:t}=(()=>{const[e,t]=r.useState(null);return r.useEffect(()=>{const e="/js/phaser.min.js",n=document.createElement("script");return n.src=e,n.onload=()=>{console.log("Phaser",e,"已加载");const n=window.Phaser;t(n)},document.body.appendChild(n),()=>{document.body.removeChild(n)}},[]),{Phaser:e}})(),[n,i]=(0,o.xI)({});return r.useEffect(()=>{if(!t||!e.current)return;e.current;let n=200;var r=new t.Class({Extends:t.Scene,initialize:function(){t.Scene.call(this,{key:"PlayGame"})},preload:function(){}}),o={type:t.WEBGL,width:4*n,height:4*n,backgroundColor:4473924,scene:[r]};let i=new t.Game(o);function c(){var e=document.querySelector("canvas");if(e){var t=window.innerWidth,n=window.innerHeight,r=t/n,o=i.config.width/i.config.height;r<o?(e.style.width=t+"px",e.style.height=t/o+"px"):(e.style.width=n*o+"px",e.style.height=n+"px")}}c(),window.addEventListener("resize",c,!1),console.log(t)},[t,e.current]),{containerRef:e,state:n,setState:i}};function c(){const{containerRef:e,state:t,setState:n}=i();return r.createElement("div",{ref:e,className:"game__pvz"})}}}]);