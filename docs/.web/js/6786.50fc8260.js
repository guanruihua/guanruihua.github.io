"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[6786],{9479:(t,e,i)=>{i.d(e,{gQ:()=>h,rc:()=>r,ni:()=>s});var n=i(65296),a=i(11814);const s=(t,e,i)=>{n.useEffect(()=>{if((0,a.Kg)(t)){const n=document.createElement("script");return n.src=t,n.onload=()=>{null==e||e()},n.onerror=()=>{console.log(t,"Âä†ËΩΩÂ§±Ë¥•")},document.body.appendChild(n),()=>{null==i||i(),document.body.removeChild(n)}}if((0,a.vH)(t)){const n=Promise.all(t.map(t=>new Promise((e,i)=>{const n=document.createElement("script");n.src=t,n.onload=()=>{e(n)},n.onerror=()=>{console.log(t,"Âä†ËΩΩÂ§±Ë¥•"),i(void 0)},document.body.appendChild(n)}))).then(t=>{null==e||e()});return()=>{null==i||i(),null==n||n.then(t=>{t&&document.body.removeChild(t)})}}},[])},r=(t,e,i)=>{n.useEffect(()=>{if((0,a.Kg)(t)){const n=document.createElement("link");return n.rel="stylesheet",n.href=t,n.onload=()=>{null==e||e()},n.onerror=()=>{console.log(t,"Âä†ËΩΩÂ§±Ë¥•")},document.head.appendChild(n),()=>{null==i||i(),n&&document.head.removeChild(n)}}if((0,a.vH)(t)){const n=Promise.all(t.map(t=>new Promise((e,i)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=t,n.onload=()=>{e(n)},n.onerror=()=>{console.log(t,"Âä†ËΩΩÂ§±Ë¥•"),i(void 0)},document.head.appendChild(n)}))).then(t=>{null==e||e()});return()=>{null==i||i(),null==n||n.then(t=>{t&&document.head.removeChild(t)})}}},[])};var o=(t,e,i)=>new Promise((n,a)=>{var s=t=>{try{o(i.next(t))}catch(t){a(t)}},r=t=>{try{o(i.throw(t))}catch(t){a(t)}},o=t=>t.done?n(t.value):Promise.resolve(t.value).then(s,r);o((i=i.apply(t,e)).next())});function h(t){const[e,i]=n.useState("");return n.useEffect(()=>{o(null,null,function*(){const e=localStorage.getItem(t);e&&i(e||""),fetch(t).then(e=>o(null,null,function*(){const n=yield e.text();localStorage.setItem(t,n||""),i(n)})).catch(console.error)})},[]),[e,i]}},11814:(t,e,i)=>{function n(t){return null==t||t!=t}function a(t){return void 0===t}i.d(e,{B9:()=>o,Et:()=>c,Gv:()=>r,Im:()=>n,Kg:()=>h,Lm:()=>m,ZX:()=>l,b0:()=>a,cy:()=>d,vH:()=>u});Number.isNaN;function s(t){try{if("object"==typeof(e=t)&&!n(e)&&/Iterator\]$/.test(e.toString()))return"Iterator";const i=Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1];return"Number"===i&&isNaN(t)?"NaN":i}catch(t){return"Undefined"}var e}function r(t){return null!==t&&"object"==typeof t&&"Object"===s(t)}function o(t){return!n(t)&&(r(t)&&0!==Reflect.ownKeys(t).length)}function h(t){return"string"==typeof t}const c=t=>"number"==typeof t&&"Number"===s(t);function l(t){return!!c(t)||(h(t)&&(t=t.trim()),!n(t)&&""!==t&&!1===Number.isNaN(Number(t)))}function d(t){return Array.isArray(t)}function u(t){return!n(t)&&(d(t)&&t.length>0)}new Map([["Image",["png","jpeg","jpg","png","bmp"]],["Video",["mp4","webm","ogg"]],["PDF",["pdf"]],["Word",["doc","docx"]],["Excel",[".xlsx",".xls",".csv"]]]);const p="undefined"!=typeof window,m=t=>"boolean"==typeof t;p&&window?.navigator?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent)},46786:(t,e,i)=>{i.r(e),i.d(e,{default:()=>p});var n=i(65296),a=i(9479),s=Object.defineProperty,r=(t,e,i)=>((t,e,i)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class o{constructor(){r(this,"container",document.getElementById("cardStream")||null),r(this,"cardLine",document.getElementById("cardLine")||null),r(this,"speedIndicator",document.getElementById("speedValue")||null),r(this,"position",0),r(this,"velocity",120),r(this,"direction",-1),r(this,"isAnimating",!0),r(this,"isDragging",!1),r(this,"lastTime",0),r(this,"lastMouseX",0),r(this,"mouseVelocity",0),r(this,"friction",.95),r(this,"minVelocity",30),r(this,"containerWidth",0),r(this,"cardLineWidth",0),this.container=document.getElementById("cardStream"),this.cardLine=document.getElementById("cardLine"),this.speedIndicator=document.getElementById("speedValue"),this.position=0,this.velocity=120,this.direction=-1,this.isAnimating=!0,this.isDragging=!1,this.lastTime=0,this.lastMouseX=0,this.mouseVelocity=0,this.friction=.95,this.minVelocity=30,this.containerWidth=0,this.cardLineWidth=0,this.init()}init(){this.populateCardLine(),this.calculateDimensions(),this.setupEventListeners(),this.updateCardPosition(),this.animate(),this.startPeriodicUpdates()}calculateDimensions(){this.containerWidth=this.container.offsetWidth;const t=this.cardLine.children.length;this.cardLineWidth=460*t}setupEventListeners(){this.cardLine.addEventListener("mousedown",t=>this.startDrag(t)),document.addEventListener("mousemove",t=>this.onDrag(t)),document.addEventListener("mouseup",()=>this.endDrag()),this.cardLine.addEventListener("touchstart",t=>this.startDrag(t.touches[0]),{passive:!1}),document.addEventListener("touchmove",t=>this.onDrag(t.touches[0]),{passive:!1}),document.addEventListener("touchend",()=>this.endDrag()),this.cardLine.addEventListener("wheel",t=>this.onWheel(t)),this.cardLine.addEventListener("selectstart",t=>t.preventDefault()),this.cardLine.addEventListener("dragstart",t=>t.preventDefault()),window.addEventListener("resize",()=>this.calculateDimensions())}startDrag(t){t.preventDefault(),this.isDragging=!0,this.isAnimating=!1,this.lastMouseX=t.clientX,this.mouseVelocity=0;const e=window.getComputedStyle(this.cardLine).transform;if("none"!==e){const t=new DOMMatrix(e);this.position=t.m41}this.cardLine.style.animation="none",this.cardLine.classList.add("dragging"),document.body.style.userSelect="none",document.body.style.cursor="grabbing"}onDrag(t){if(!this.isDragging)return;t.preventDefault();const e=t.clientX-this.lastMouseX;this.position+=e,this.mouseVelocity=60*e,this.lastMouseX=t.clientX,this.cardLine.style.transform=`translateX(${this.position}px)`,this.updateCardClipping()}endDrag(){this.isDragging&&(this.isDragging=!1,this.cardLine.classList.remove("dragging"),Math.abs(this.mouseVelocity)>this.minVelocity?(this.velocity=Math.abs(this.mouseVelocity),this.direction=this.mouseVelocity>0?1:-1):this.velocity=120,this.isAnimating=!0,this.updateSpeedIndicator(),document.body.style.userSelect="",document.body.style.cursor="")}animate(){const t=performance.now(),e=(t-this.lastTime)/1e3;this.lastTime=t,this.isAnimating&&!this.isDragging&&(this.velocity>this.minVelocity?this.velocity*=this.friction:this.velocity=Math.max(this.minVelocity,this.velocity),this.position+=this.velocity*this.direction*e,this.updateCardPosition(),this.updateSpeedIndicator()),requestAnimationFrame(()=>this.animate())}updateCardPosition(){const t=this.containerWidth,e=this.cardLineWidth;this.position<-e?this.position=t:this.position>t&&(this.position=-e),this.cardLine.style.transform=`translateX(${this.position}px)`,this.updateCardClipping()}updateSpeedIndicator(){this.speedIndicator.textContent=Math.round(this.velocity)}toggleAnimation(){this.isAnimating=!this.isAnimating;document.querySelector(".control-btn").textContent=this.isAnimating?"‚è∏Ô∏è Pause":"‚ñ∂Ô∏è Play",this.isAnimating&&(this.cardLine.style.animation="none")}resetPosition(){this.position=this.containerWidth,this.velocity=120,this.direction=-1,this.isAnimating=!0,this.isDragging=!1,this.cardLine.style.animation="none",this.cardLine.style.transform=`translateX(${this.position}px)`,this.cardLine.classList.remove("dragging"),this.updateSpeedIndicator();document.querySelector(".control-btn").textContent="‚è∏Ô∏è Pause"}changeDirection(){this.direction*=-1,this.updateSpeedIndicator()}onWheel(t){t.preventDefault();const e=t.deltaY>0?20:-20;this.position+=e,this.updateCardPosition(),this.updateCardClipping()}generateCode(t,e){const i=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,n=t=>t[i(0,t.length-1)],a=t=>[`class Particle${t} {`,"  constructor(x, y, vx, vy, r, a) {","    this.x = x; this.y = y;","    this.vx = vx; this.vy = vy;","    this.r = r; this.a = a;","  }","  step(dt) { this.x += this.vx * dt; this.y += this.vy * dt; }","}"],s=[];["// compiled preview ‚Ä¢ scanner demo","/* generated for visual effect ‚Äì not executed */","const SCAN_WIDTH = 8;","const FADE_ZONE = 35;","const MAX_PARTICLES = 2500;","const TRANSITION = 0.05;"].forEach(t=>s.push(t)),["function clamp(n, a, b) { return Math.max(a, Math.min(b, n)); }","function lerp(a, b, t) { return a + (b - a) * t; }","const now = () => performance.now();","function rng(min, max) { return Math.random() * (max - min) + min; }"].forEach(t=>s.push(t));for(let t=0;t<3;t++)a(t).forEach(t=>s.push(t));["const scanner = {","  x: Math.floor(window.innerWidth / 2),","  width: SCAN_WIDTH,","  glow: 3.5,","};","","function drawParticle(ctx, p) {","  ctx.globalAlpha = clamp(p.a, 0, 1);","  ctx.drawImage(gradient, p.x - p.r, p.y - p.r, p.r * 2, p.r * 2);","}"].forEach(t=>s.push(t)),["function tick(t) {","  // requestAnimationFrame(tick);","  const dt = 0.016;","  // update & render","}"].forEach(t=>s.push(t)),["const state = { intensity: 1.2, particles: MAX_PARTICLES };","const bounds = { w: window.innerWidth, h: 300 };","const gradient = document.createElement('canvas');","const ctx = gradient.getContext('2d');","ctx.globalCompositeOperation = 'lighter';","// ascii overlay is masked with a 3-phase gradient"].forEach(t=>s.push(t));for(let t=0;t<40;t++){const e=i(1,9),n=i(10,99);s.push(`const v${t} = (${e} + ${n}) * 0.${i(1,9)};`)}for(let t=0;t<20;t++)s.push(`if (state.intensity > ${1+t%3}) { scanner.glow += 0.01; }`);let r=s.join(" ");r=r.replace(/\s+/g," ").trim();const o=t*e;for(;r.length<o+t;){r+=" "+n(s).replace(/\s+/g," ").trim()}let h="",c=0;for(let i=0;i<e;i++){let n=r.slice(c,c+t);n.length<t&&(n+=" ".repeat(t-n.length)),h+=n+(i<e-1?"\n":""),c+=t}return h}calculateCodeDimensions(t,e){return{width:Math.floor(t/6),height:Math.floor(e/13),fontSize:11,lineHeight:13}}createCardWrapper(t){const e=document.createElement("div");e.className="card-wrapper";const i=document.createElement("div");i.className="card card-normal";const n=["https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b55e654d1341fb06f8_4.1.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5a080a31ee7154b19_1.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5c1e4919fd69672b8_3.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5f6a5e232e7beb4be_2.png","https://cdn.prod.website-files.com/68789c86c8bc802d61932544/689f20b5bea2f1b07392d936_4.png"],a=document.createElement("img");a.className="card-image",a.src=n[t%n.length],a.alt="Credit Card",a.onerror=()=>{const t=document.createElement("canvas");t.width=400,t.height=250;const e=t.getContext("2d"),i=e.createLinearGradient(0,0,400,250);i.addColorStop(0,"#667eea"),i.addColorStop(1,"#764ba2"),e.fillStyle=i,e.fillRect(0,0,400,250),a.src=t.toDataURL()},i.appendChild(a);const s=document.createElement("div");s.className="card card-ascii";const r=document.createElement("div");r.className="ascii-content";const{width:o,height:h,fontSize:c,lineHeight:l}=this.calculateCodeDimensions(400,250);return r.style.fontSize=c+"px",r.style.lineHeight=l+"px",r.textContent=this.generateCode(o,h),s.appendChild(r),e.appendChild(i),e.appendChild(s),e}updateCardClipping(){const t=window.innerWidth/2,e=t-4,i=t+4;let n=!1;document.querySelectorAll(".card-wrapper").forEach(t=>{const a=t.getBoundingClientRect(),s=a.left,r=a.right,o=a.width,h=t.querySelector(".card-normal"),c=t.querySelector(".card-ascii");if(s<i&&r>e){n=!0;const a=Math.max(e-s,0),r=a/o*100,l=Math.min(i-s,o)/o*100;if(h.style.setProperty("--clip-right",`${r}%`),c.style.setProperty("--clip-left",`${l}%`),!t.hasAttribute("data-scanned")&&a>0){t.setAttribute("data-scanned","true");const e=document.createElement("div");e.className="scan-effect",t.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},600)}}else r<e?(h.style.setProperty("--clip-right","100%"),c.style.setProperty("--clip-left","100%")):s>i&&(h.style.setProperty("--clip-right","0%"),c.style.setProperty("--clip-left","0%")),t.removeAttribute("data-scanned")}),window.setScannerScanning&&window.setScannerScanning(n)}updateAsciiContent(){document.querySelectorAll(".ascii-content").forEach(t=>{if(Math.random()<.15){const{width:e,height:i}=this.calculateCodeDimensions(400,250);t.textContent=this.generateCode(e,i)}})}populateCardLine(){this.cardLine.innerHTML="";for(let t=0;t<30;t++){const e=this.createCardWrapper(t);this.cardLine.appendChild(e)}}startPeriodicUpdates(){setInterval(()=>{this.updateAsciiContent()},200);const t=()=>{this.updateCardClipping(),requestAnimationFrame(t)};t()}}class h{constructor(){this.canvas=document.getElementById("scannerCanvas"),this.ctx=this.canvas.getContext("2d"),this.animationId=null,this.w=window.innerWidth,this.h=300,this.particles=[],this.count=0,this.maxParticles=800,this.intensity=.8,this.lightBarX=this.w/2,this.lightBarWidth=3,this.fadeZone=60,this.scanTargetIntensity=1.8,this.scanTargetParticles=2500,this.scanTargetFadeZone=35,this.scanningActive=!1,this.baseIntensity=this.intensity,this.baseMaxParticles=this.maxParticles,this.baseFadeZone=this.fadeZone,this.currentIntensity=this.intensity,this.currentMaxParticles=this.maxParticles,this.currentFadeZone=this.fadeZone,this.transitionSpeed=.05,this.setupCanvas(),this.createGradientCache(),this.initParticles(),this.animate(),window.addEventListener("resize",()=>this.onResize())}setupCanvas(){this.canvas.width=this.w,this.canvas.height=this.h,this.canvas.style.width=this.w+"px",this.canvas.style.height=this.h+"px",this.ctx.clearRect(0,0,this.w,this.h)}onResize(){this.w=window.innerWidth,this.lightBarX=this.w/2,this.setupCanvas()}createGradientCache(){this.gradientCanvas=document.createElement("canvas"),this.gradientCtx=this.gradientCanvas.getContext("2d"),this.gradientCanvas.width=16,this.gradientCanvas.height=16;const t=this.gradientCanvas.width/2,e=this.gradientCtx.createRadialGradient(t,t,0,t,t,t);e.addColorStop(0,"rgba(255, 255, 255, 1)"),e.addColorStop(.3,"rgba(196, 181, 253, 0.8)"),e.addColorStop(.7,"rgba(139, 92, 246, 0.4)"),e.addColorStop(1,"transparent"),this.gradientCtx.fillStyle=e,this.gradientCtx.beginPath(),this.gradientCtx.arc(t,t,t,0,2*Math.PI),this.gradientCtx.fill()}random(t,e){return arguments.length<2&&(e=t,t=0),Math.floor(Math.random()*(e-t+1))+t}randomFloat(t,e){return Math.random()*(e-t)+t}createParticle(){const t=this.intensity/this.baseIntensity,e=1+1.2*(t-1),i=1+.7*(t-1);return{x:this.lightBarX+this.randomFloat(-this.lightBarWidth/2,this.lightBarWidth/2),y:this.randomFloat(0,this.h),vx:this.randomFloat(.2,1)*e,vy:this.randomFloat(-.15,.15)*e,radius:this.randomFloat(.4,1)*i,alpha:this.randomFloat(.6,1),decay:this.randomFloat(.005,.025)*(2-.5*t),originalAlpha:0,life:1,time:0,startX:0,twinkleSpeed:this.randomFloat(.02,.08)*e,twinkleAmount:this.randomFloat(.1,.25)}}initParticles(){for(let t=0;t<this.maxParticles;t++){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}}updateParticle(t){t.x+=t.vx,t.y+=t.vy,t.time++,t.alpha=t.originalAlpha*t.life+Math.sin(t.time*t.twinkleSpeed)*t.twinkleAmount,t.life-=t.decay,(t.x>this.w+10||t.life<=0)&&this.resetParticle(t)}resetParticle(t){t.x=this.lightBarX+this.randomFloat(-this.lightBarWidth/2,this.lightBarWidth/2),t.y=this.randomFloat(0,this.h),t.vx=this.randomFloat(.2,1),t.vy=this.randomFloat(-.15,.15),t.alpha=this.randomFloat(.6,1),t.originalAlpha=t.alpha,t.life=1,t.time=0,t.startX=t.x}drawParticle(t){if(t.life<=0)return;let e=1;t.y<this.fadeZone?e=t.y/this.fadeZone:t.y>this.h-this.fadeZone&&(e=(this.h-t.y)/this.fadeZone),e=Math.max(0,Math.min(1,e)),this.ctx.globalAlpha=t.alpha*e,this.ctx.drawImage(this.gradientCanvas,t.x-t.radius,t.y-t.radius,2*t.radius,2*t.radius)}drawLightBar(){const t=this.ctx.createLinearGradient(0,0,0,this.h);t.addColorStop(0,"rgba(255, 255, 255, 0)"),t.addColorStop(this.fadeZone/this.h,"rgba(255, 255, 255, 1)"),t.addColorStop(1-this.fadeZone/this.h,"rgba(255, 255, 255, 1)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx.globalCompositeOperation="lighter";const e=this.scanningActive?3.5:1;this.currentGlowIntensity||(this.currentGlowIntensity=1),this.currentGlowIntensity+=(e-this.currentGlowIntensity)*this.transitionSpeed;const i=this.currentGlowIntensity,n=this.lightBarWidth,a=this.scanningActive?1:.8,s=this.scanningActive?.8:.6,r=this.scanningActive?.6:.4,o=this.ctx.createLinearGradient(this.lightBarX-n/2,0,this.lightBarX+n/2,0);o.addColorStop(0,"rgba(255, 255, 255, 0)"),o.addColorStop(.3,`rgba(255, 255, 255, ${.9*i})`),o.addColorStop(.5,`rgba(255, 255, 255, ${1*i})`),o.addColorStop(.7,`rgba(255, 255, 255, ${.9*i})`),o.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx.globalAlpha=1,this.ctx.fillStyle=o;this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-n/2,0,n,this.h,15),this.ctx.fill();const h=this.ctx.createLinearGradient(this.lightBarX-2*n,0,this.lightBarX+2*n,0);h.addColorStop(0,"rgba(139, 92, 246, 0)"),h.addColorStop(.5,`rgba(196, 181, 253, ${.8*i})`),h.addColorStop(1,"rgba(139, 92, 246, 0)"),this.ctx.globalAlpha=a,this.ctx.fillStyle=h;this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-2*n,0,4*n,this.h,25),this.ctx.fill();const c=this.ctx.createLinearGradient(this.lightBarX-4*n,0,this.lightBarX+4*n,0);c.addColorStop(0,"rgba(139, 92, 246, 0)"),c.addColorStop(.5,`rgba(139, 92, 246, ${.4*i})`),c.addColorStop(1,"rgba(139, 92, 246, 0)"),this.ctx.globalAlpha=s,this.ctx.fillStyle=c;if(this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-4*n,0,8*n,this.h,35),this.ctx.fill(),this.scanningActive){const t=this.ctx.createLinearGradient(this.lightBarX-8*n,0,this.lightBarX+8*n,0);t.addColorStop(0,"rgba(139, 92, 246, 0)"),t.addColorStop(.5,"rgba(139, 92, 246, 0.2)"),t.addColorStop(1,"rgba(139, 92, 246, 0)"),this.ctx.globalAlpha=r,this.ctx.fillStyle=t;const e=45;this.ctx.beginPath(),this.ctx.roundRect(this.lightBarX-8*n,0,16*n,this.h,e),this.ctx.fill()}this.ctx.globalCompositeOperation="destination-in",this.ctx.globalAlpha=1,this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.w,this.h)}render(){const t=this.scanningActive?this.scanTargetIntensity:this.baseIntensity,e=this.scanningActive?this.scanTargetParticles:this.baseMaxParticles,i=this.scanningActive?this.scanTargetFadeZone:this.baseFadeZone;this.currentIntensity+=(t-this.currentIntensity)*this.transitionSpeed,this.currentMaxParticles+=(e-this.currentMaxParticles)*this.transitionSpeed,this.currentFadeZone+=(i-this.currentFadeZone)*this.transitionSpeed,this.intensity=this.currentIntensity,this.maxParticles=Math.floor(this.currentMaxParticles),this.fadeZone=this.currentFadeZone,this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,this.w,this.h),this.drawLightBar(),this.ctx.globalCompositeOperation="lighter";for(let t=1;t<=this.count;t++)this.particles[t]&&(this.updateParticle(this.particles[t]),this.drawParticle(this.particles[t]));const n=this.intensity,a=this.maxParticles;if(Math.random()<n&&this.count<a){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}const s=this.intensity/this.baseIntensity;if(s>1.1&&Math.random()<1.2*(s-1)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(s>1.3&&Math.random()<1.4*(s-1.3)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(s>1.5&&Math.random()<1.8*(s-1.5)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(s>2&&Math.random()<2*(s-2)){const t=this.createParticle();t.originalAlpha=t.alpha,t.startX=t.x,this.count++,this.particles[this.count]=t}if(this.count>a+200){const t=Math.min(15,this.count-a);for(let e=0;e<t;e++)delete this.particles[this.count-e];this.count-=t}}animate(){this.render(),this.animationId=requestAnimationFrame(()=>this.animate())}startScanning(){this.scanningActive=!0,console.log("Scanning started - intense particle mode activated")}stopScanning(){this.scanningActive=!1,console.log("Scanning stopped - normal particle mode")}setScanningActive(t){this.scanningActive=t,console.log("Scanning mode:",t?"active":"inactive")}getStats(){return{intensity:this.intensity,maxParticles:this.maxParticles,currentParticles:this.count,lightBarWidth:this.lightBarWidth,fadeZone:this.fadeZone,scanningActive:this.scanningActive,canvasWidth:this.w,canvasHeight:this.h}}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.particles=[],this.count=0}}var c=Object.defineProperty,l=(t,e,i)=>((t,e,i)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class d{constructor(){l(this,"scene",null),l(this,"camera",null),l(this,"renderer",null),l(this,"particles",null),l(this,"particleCount",400),l(this,"canvas",document.getElementById("particleCanvas")),this.scene=null,this.camera=null,this.renderer=null,this.particles=null,this.particleCount=400,this.canvas=document.getElementById("particleCanvas"),this.init()}init(){this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,125,-125,1,1e3),this.camera.position.z=100,this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setSize(window.innerWidth,250),this.renderer.setClearColor(0,0),this.createParticles(),this.animate(),window.addEventListener("resize",()=>this.onWindowResize())}createParticles(){const t=new THREE.BufferGeometry,e=new Float32Array(3*this.particleCount),i=new Float32Array(3*this.particleCount),n=new Float32Array(this.particleCount),a=new Float32Array(this.particleCount),s=document.createElement("canvas");s.width=100,s.height=100;const r=s.getContext("2d"),o=s.width/2,h=r.createRadialGradient(o,o,0,o,o,o);h.addColorStop(.025,"#fff"),h.addColorStop(.1,"hsl(217, 61%, 33%)"),h.addColorStop(.25,"hsl(217, 64%, 6%)"),h.addColorStop(1,"transparent"),r.fillStyle=h,r.beginPath(),r.arc(o,o,o,0,2*Math.PI),r.fill();const c=new THREE.CanvasTexture(s);for(let t=0;t<this.particleCount;t++){e[3*t]=(Math.random()-.5)*window.innerWidth*2,e[3*t+1]=250*(Math.random()-.5),e[3*t+2]=0,i[3*t]=1,i[3*t+1]=1,i[3*t+2]=1;const s=200*Math.random()+100;n[t]=(Math.random()*(s-60)+60)/8,a[t]=60*Math.random()+30}t.setAttribute("position",new THREE.BufferAttribute(e,3)),t.setAttribute("color",new THREE.BufferAttribute(i,3)),t.setAttribute("size",new THREE.BufferAttribute(n,1)),this.velocities=a;const l=new Float32Array(this.particleCount);for(let t=0;t<this.particleCount;t++)l[t]=(8*Math.random()+2)/10;t.setAttribute("alpha",new THREE.BufferAttribute(l,1)),this.alphas=l;const d=new THREE.ShaderMaterial({uniforms:{pointTexture:{value:c},size:{value:15}},vertexShader:"\n        attribute float alpha;\n        varying float vAlpha;\n        varying vec3 vColor;\n        uniform float size;\n        \n        void main() {\n          vAlpha = alpha;\n          vColor = color;\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_PointSize = size;\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform sampler2D pointTexture;\n        varying float vAlpha;\n        varying vec3 vColor;\n        \n        void main() {\n          gl_FragColor = vec4(vColor, vAlpha) * texture2D(pointTexture, gl_PointCoord);\n        }\n      ",transparent:!0,blending:THREE.AdditiveBlending,depthWrite:!1,vertexColors:!0});this.particles=new THREE.Points(t,d),this.scene.add(this.particles)}animate(){if(requestAnimationFrame(()=>this.animate()),this.particles){const t=this.particles.geometry.attributes.position.array,e=this.particles.geometry.attributes.alpha.array,i=.001*Date.now();for(let n=0;n<this.particleCount;n++){t[3*n]+=.016*this.velocities[n],t[3*n]>window.innerWidth/2+100&&(t[3*n]=-window.innerWidth/2-100,t[3*n+1]=250*(Math.random()-.5)),t[3*n+1]+=.5*Math.sin(i+.1*n);const a=Math.floor(10*Math.random());1===a&&e[n]>0?e[n]-=.05:2===a&&e[n]<1&&(e[n]+=.05),e[n]=Math.max(0,Math.min(1,e[n]))}this.particles.geometry.attributes.position.needsUpdate=!0,this.particles.geometry.attributes.alpha.needsUpdate=!0}this.renderer.render(this.scene,this.camera)}onWindowResize(){this.camera.left=-window.innerWidth/2,this.camera.right=window.innerWidth/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,250)}destroy(){this.renderer&&this.renderer.dispose(),this.particles&&(this.scene.remove(this.particles),this.particles.geometry.dispose(),this.particles.material.dispose())}}const u=()=>{let t=null;return(0,a.ni)("/js/three/r128/three.min.js",()=>{console.log("load");window.innerWidth,window.innerWidth;let e=null,i=null;const n=window;t=new o,e=new d,i=new h,n.setScannerScanning=t=>{i&&i.setScanningActive(t)},n.getScannerStats=()=>i?i.getStats():null}),{toggleAnimation:function(){t&&t.toggleAnimation()},resetPosition:function(){t&&t.resetPosition()},changeDirection:function(){t&&t.changeDirection()}}};function p(){const{toggleAnimation:t,resetPosition:e,changeDirection:i}=u();return n.createElement("div",{className:"study__card-beam-animation"},n.createElement("div",{className:"controls"},n.createElement("button",{className:"control-btn",onClick:t},"‚è∏Ô∏è Pause"),n.createElement("button",{className:"control-btn",onClick:e},"üîÑ Reset"),n.createElement("button",{className:"control-btn",onClick:i},"‚ÜîÔ∏è Direction")),n.createElement("div",{className:"speed-indicator"},"Speed: ",n.createElement("span",{id:"speedValue"},"120")," px/s"),n.createElement("div",{className:"container"},n.createElement("canvas",{id:"particleCanvas"}),n.createElement("canvas",{id:"scannerCanvas"}),n.createElement("div",{className:"scanner"}),n.createElement("div",{className:"card-stream",id:"cardStream"},n.createElement("div",{className:"card-line",id:"cardLine"}))))}}}]);