"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[703],{703:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var n=r(5296);const o=250;const i=t=>10*Math.floor(t/10);var a=r(7113),u=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=(t,e,r)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f=(t,e)=>{for(var r in e||(e={}))c.call(e,r)&&d(t,r,e[r]);if(l)for(var r of l(e))s.call(e,r)&&d(t,r,e[r]);return t},g=(t,e)=>{var r={};for(var n in t)c.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&l)for(var n of l(t))e.indexOf(n)<0&&s.call(t,n)&&(r[n]=t[n]);return r};function p(t){const e=t,{id:r,none:o,onDragStart:i,onDragging:u,onDragEnd:l,children:c}=e,s=g(e,["id","none","onDragStart","onDragging","onDragEnd","children"]),d=n.useRef(null),p=n.useRef({id:r,drag:!1,leaveLeft:!1,dragCount:0,offsetX:0,offsetY:0,lastX:-1,lastY:-1}),y=function(t,e){let r=null;return function(){r||(r=setTimeout(()=>{t.apply(this,arguments),r=null},e))}}(e=>{var r,n;if(null==(r=null==e?void 0:e.preventDefault)||r.call(e),null==(n=null==e?void 0:e.stopPropagation)||n.call(e),!d.current||!p.current.drag)return;const o=window.document.body.getBoundingClientRect(),i=d.current.getBoundingClientRect(),a=(t,e="x")=>{if(t<0)return 0;if("x"===e){const e=o.width-i.width;if(t>=e)return e}if("y"===e){const e=o.height-i.height;if(t>=e)return e}return t},l=a(e.clientX-p.current.offsetX,"x"),c=a(e.clientY-p.current.offsetY,"y");d.current.style.left=l+"px",d.current.style.top=c+"px",null==u||u(d,p.current,t)},10);function m(){d.current&&(p.current.offsetX=0,p.current.offsetY=0,p.current.drag=!1,p.current.dragCount=p.current.dragCount+1,d.current.style.opacity="none",d.current.style.zIndex="1",d.current.style.opacity="1",d.current.style.border="none",document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",m),null==l||l(d,p.current,t))}return n.createElement("div",f({className:(0,a.xW)("ele",{none:o}),ref:d,onMouseDown:function(e){var r,n;if(null==(r=null==e?void 0:e.preventDefault)||r.call(e),null==(n=null==e?void 0:e.stopPropagation)||n.call(e),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",m),!d.current)return;const o=d.current.getBoundingClientRect();p.current.lastX=Number(d.current.style.left.replace("px",""))||0,p.current.lastY=Number(d.current.style.top.replace("px",""))||0,p.current.offsetX=e.clientX-o.left,p.current.offsetY=e.clientY-o.top,p.current.drag=!0,d.current.style.opacity=".8",d.current.style.zIndex="10000",d.current.style.border="1px solid rgba(255,255,255, 9)",document.addEventListener("mousemove",y),document.addEventListener("mouseup",m),null==i||i(d,p.current,t)}},s),c)}var y=r(6045);const m=()=>{const[t,e]=(0,y.xI)({selectId:"",list:[{id:"1",type:"sider"}]}),r=e=>{var r;return null==(r=t.list)?void 0:r.find(t=>t.id===e)},n=()=>{var e;return(((null==(e=t.list)?void 0:e.length)||0)+1).toString()};return{state:t,setState:e,updateState:(t,e)=>{},find:r,inSider:t=>{var e;return"sider"===(null==(e=r(t))?void 0:e.type)},inContent:t=>{var e;return"content"===(null==(e=r(t))?void 0:e.type)},getId:n,to:(e,r)=>{t.list&&(t.list=t.list.map(t=>(t.id===e&&(t.type=r),t)))},create:()=>{const e={id:n(),type:"sider"};t.list?t.list.push(e):t.list=[e]},del:e=>{t.list&&(t.list=t.list.map(t=>(t.id===e&&(t.type="del"),t)))}}};function h(){var t;const e=m(),{state:r,setState:a}=e,u=(t,e)=>{a({selectId:e.id})},l=(t,e)=>{if(!t.current)return;const r=t.current.getBoundingClientRect(),n=document.querySelector(".auxiliary-line.auxiliary-line-x"),a=document.querySelector(".auxiliary-line.auxiliary-line-y");n&&(n.style.top=i(r.top)+"px"),a&&(a.style.left=(r.left>o?i(r.left):o)+"px")},c=(t,n)=>{if(!t.current)return;const u=t.current.getBoundingClientRect(),{id:l}=n;r.list||(r.list=[]),u.left<o?(t.current.style.left="10px",t.current.style.top="10px",e.inContent(l)&&e.del(l)):(t.current.style.left=i(u.left)+"px",t.current.style.top=i(u.top)+"px",e.inSider(l)&&(e.create(),e.to(l,"content"))),a(r)};return n.createElement("div",{className:"study-drag"},n.createElement("div",{className:"sider"},null==(t=r.list)?void 0:t.map(({id:t,type:e})=>n.createElement(p,{key:t,id:t,onDragStart:u,onDragging:l,onDragEnd:c,none:"del"===e},t))),n.createElement("div",{className:"content"}),n.createElement("div",{className:"auxiliary-line auxiliary-line-x"}),n.createElement("div",{className:"auxiliary-line auxiliary-line-y"}))}},6045:(t,e,r)=>{r.d(e,{xI:()=>s});var n=r(5296);function o(t){return null==t||t!=t}function i(t){try{if("object"==typeof(e=t)&&!o(e)&&/Iterator\]$/.test(e.toString()))return"Iterator";const r=Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1];return"Number"===r&&isNaN(t)?"NaN":r}catch(t){return"Undefined"}var e}function a(t){return"string"==typeof t}const u=t=>"number"==typeof t&&"Number"===i(t);function l(t){return!o(t)&&(function(t){return Array.isArray(t)}(t)&&t.length>0)}const c="undefined"!=typeof window;function s(t={},e,r=localStorage){const[o,i]=(0,n.useState)(t),c=t=>{if(i(t),e)try{r.setItem(e,JSON.stringify(t))}catch(t){return void console.warn(t)}};return(0,n.useEffect)(()=>{if(e)try{const t=r.getItem(e);if(!t||"{}"===t)return;c(JSON.parse(t))}catch(t){return}},[e,r]),[o,(t,e=!1)=>{const r="function"==typeof t?t(o):t;c(e?r:{...o,...r})},e=>{if(l(e)){const r={...o};return e.forEach(e=>{(a(e)||u(e))&&(r[e]=t[e])}),void c(r)}c(t)}]}c&&window?.navigator?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent)},7113:(t,e,r)=>{function n(t){return null==t||t!=t}r.d(e,{Dk:()=>s,xW:()=>d});const o=Array.isArray;function i(t){try{if("object"==typeof(e=t)&&!n(e)&&/Iterator\]$/.test(e.toString()))return"Iterator";const r=Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1];return"Number"===r&&isNaN(t)?"NaN":r}catch(t){return"Undefined"}var e}function a(t,e=!1){return e?"function"==typeof t:"Function"===i(t)}function u(t){return null!==t&&"object"==typeof t&&"Object"===i(t)}function l(t){return"string"==typeof t}const c=t=>"number"==typeof t&&"Number"===i(t);function s(t){const e=window.clipboardData;if(navigator.clipboard)return navigator.clipboard.writeText(t),!0;if(e)return e.clearData(),e.setData("Text",t),!0;if(document.execCommand){const e=document.createElement("textarea");return e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),!0}return!1}function d(...t){const e=new Set,r={};function n(t,r){!1===t&&e.has(r)&&e.delete(r),!0!==t||e.has(r)||e.add(r)}!function t(o){o.forEach(o=>{if(o){if(Array.isArray(o))return t(o);if("string"!=typeof o&&"number"!=typeof o)if("Object"!==i(o));else for(const t in o){const e=!!o[t];r[t]=e,n(e,t)}else e.add(o)}})}(t);for(const t in r)n(r[t],t);return[...e].join(" ")}/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()),/android/.test(navigator.userAgent.toLowerCase());window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;class f{length;storage;defaultValue;setCallback;getCallback;constructor(t,e){this.storage=t,this.length=t.length;const{defaultValue:r=null,getCallback:n,setCallback:o}=e||{};this.defaultValue=r,a(n)&&(this.getCallback=n),a(o)&&(this.setCallback=o)}getItem(t){return this.storage.getItem(t)}get(t,e=this.defaultValue){const r=this.storage.getItem(t);return a(this.getCallback)?this.getCallback(t,r,e):n(r)?e:r}getNumber(t,e=(c(this.defaultValue)?this.defaultValue:0)){const r=Number(this.get(t));return c(r)?r:e}getString(t,e=(l(this.defaultValue)?this.defaultValue:"")){const r=this.get(t);return l(r)?r:e}getObject(t,e=(u(this.defaultValue)?this.defaultValue:{})){try{const r=JSON.parse(this.get(t)||"{}");return u(r)?r:e}catch(t){return e}}getArray(t,e=(o(this.defaultValue)?this.defaultValue:[])){try{const r=JSON.parse(this.get(t)||"{}");return o(r)?r:e}catch(t){return e}}setItem(t,e){l(e)?this.storage.setItem(t,e):this.storage.setItem(t,JSON.stringify(e))}key(t){return this.storage.key(t)}removeItem(t){return this.storage.removeItem(t)}clear(){return this.storage.clear()}}new f(localStorage),new f(sessionStorage)}}]);