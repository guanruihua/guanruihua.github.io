"use strict";(self.webpackChunkguanruihua_github_io=self.webpackChunkguanruihua_github_io||[]).push([[2870],{2870:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var a=l(5296);const r=["C","Del","%","÷","7","8","9","x","4","5","6","-","1","2","3","+","Switch","0",".","="];var i=l(6045),n=l(1814),o=Math.pow;const s=e=>!(!(0,n.Kg)(e)||!e)&&((0,n.ZX)(e.at(0))&&(0,n.ZX)(e.at(-1))),c=e=>{if(/\/|÷|\*|x/.test(e)){e.split(/\+|-/gi).forEach(t=>{if(s(t)&&(0,n.Kg)(e)&&/\*|x|\/|÷/.test(t)){const l=(e=>{let t;const l=e.split(/(\d)/gi).filter(Boolean);let a="*";return l.forEach((e,l)=>{if(["*","/","**"].includes(e))return void(a=e);const r=parseFloat(e);return(0,n.Et)(r)?(0,n.Et)(t)?("**"===a&&(t=o(t,r)),"*"===a&&(t*=r),"/"===a&&(t/=r),void(a="*")):void(t=r):void 0}),String(t||0)})(t);e=e.replaceAll(t,l)}})}return/\+|-/.test(e)?(e=>{let t=0;const l=e.split(/(\+|\-)/gi);let a="+";return l.forEach((e,l)=>{if(["+","-"].includes(e))return void(a=e);const r=parseFloat(e);return(0,n.Et)(r)?("-"===a&&(t-=r),"+"===a&&(t+=r),void(a="+")):void 0}),String(t)})(e):e};function u(e,t){return((e.match(t)||[]).length||0)>0}const m=e=>{if(!e)return"0";if((0,n.Et)(e)&&(e=String(e)),!(0,n.Kg)(e))return"0";if(e.indexOf("x")>0&&(e=e.replaceAll("x","*")),e.indexOf("÷")>0&&(e=e.replaceAll("÷","/")),e=e.trim(),(0,n.Et)(Number(e)))return e;let t=0;const l=e=>{if(t++>3e3)return"0";let a=e.split(/(\[|\]|\(|\))/).filter(Boolean);a.forEach((e,t)=>{s(e)&&u(e,/\+|-|\*|\\/g)&&(a[t]=c(e),(e=>{("("===a[e-1]&&")"===a[e+1]||"["===a[e-1]&&"]"===a[e+1])&&(a[e-1]="",a[e+1]="")})(t))});let r=a.join("");return(r.indexOf("(")>-1&&r.indexOf(")")>-1||r.indexOf("[")>-1&&r.indexOf("]")>-1)&&(r=l(r)),s(r)&&u(r,/\+|-|\*|\\/g)?c(r):r};return l(e)};var d=l(8780);function h(){var e;const[t,l]=(0,i.xI)({formula:"",result:"",history:[],type:"default",inputFormulaInput:"",inputFormulaResult:"",inputFormulas:[]},"/tool/calculator/cache");return a.createElement("div",{className:"tool-calculator"},a.createElement(d.so,{style:{zoom:".8",marginBottom:10}}),a.createElement(d.i,{className:"tool-calculator-layout"},a.createElement("div",{className:"simple"},r.map(e=>{const r=()=>(e=>{let a="";switch(e){case"C":a="";break;case"Del":a=((null==t?void 0:t.formula)||"").replace(/.$/,"");break;case"=":break;case"Switch":return;default:a=((null==t?void 0:t.formula)||"")+e}const r={formula:a,result:m(a)};if("="===e&&t.formula){const e=`${t.formula}=${t.result}`;(0,n.cy)(t.history)?t.history.unshift(e):t.history=[e],r.history=t.history.slice(0,100)}l(r)})(e);return"Switch"===e?a.createElement("div",{className:"keypad",key:e,"data-val":e,onClick:r},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},a.createElement("path",{fill:"currentColor",d:"M14.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L16.586 8H5a1 1 0 0 1 0-2h11.586l-2.293-2.293a1 1 0 0 1 0-1.414m-4.586 10a1 1 0 0 1 0 1.414L7.414 16H19a1 1 0 1 1 0 2H7.414l2.293 2.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0"}))):"-"===e?a.createElement("div",{className:"keypad",key:e,"data-val":e,onClick:r},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0.88em",height:"1em",viewBox:"0 0 448 512"},a.createElement("path",{fill:"currentColor",d:"M432 256c0 17.7-14.3 32-32 32H48c-17.7 0-32-14.3-32-32s14.3-32 32-32h352c17.7 0 32 14.3 32 32"}))):a.createElement("div",{className:"keypad",key:e,"data-val":e,onClick:r},e)})),a.createElement("div",{className:"history-box"},a.createElement("div",{className:"now"},a.createElement("div",{className:"result"},null==t?void 0:t.result),a.createElement("div",{className:"formula"},null==t?void 0:t.formula)),a.createElement("div",{className:"history"},null==(e=null==t?void 0:t.history)?void 0:e.map((e,t)=>a.createElement("div",{className:"item",key:t},e))))))}}}]);