"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),t=require("path");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=r(t);async function i(e,t={}){try{return n.default.mkdirSync(e,{recursive:!0,...t}),!0}catch(e){return console.error(e),!1}}const c=Array.isArray;function s(e){try{if("object"==typeof(t=e)&&!function(e){return null==e||e!=e}(t)&&/Iterator\]$/.test(t.toString()))return"Iterator";const r=Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1];return"Number"===r&&isNaN(e)?"NaN":r}catch(e){return"Undefined"}var t}function u(e,t=!1){return t?"function"==typeof e:"Function"===s(e)}function l(e){return n.default.lstatSync(e).isDirectory()}"undefined"!=typeof window&&window?.navigator?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const a=process.version;const f=[];function d(e,t={encoding:"utf8",flag:"r"}){if(f.length>0)for(let r=0;r<f.length;r++){const{test:n,loader:o}=f[r];if("RegExp"===s(n)&&u(o)&&n.test(e))return o(e,t)}return n.default.readFileSync(e,t)}function p(e,t){return n.default.readdirSync(e,t)||[]}function h(e,t){const{depth:r="auto",ignore:n=[],readData:o=!0,use:i=[],files:c=[],dirs:s=[],encoding:u="utf8",flag:a="r",withFileTypes:f}=t||{},g=[];let y=[];return y=0===c.length&&0===s.length?function(e=[],t){return e.filter(((e="")=>{for(let r=0;r<t.length;r++){const n=t[r];if(n===e)return!1;if(n.indexOf("*")>-1){const[t="",r=""]=n.split("*")||["",""];if(""!==t&&0===e.indexOf(t)||""!==r&&e.indexOf(r)>-1)return!1}}return!0}))}(p(e,{encoding:u,withFileTypes:f}),n)||[]:c.concat(y),y.forEach((n=>{const c=e+"/"+n,s=l(c),f=[],y=[];(s?p(c):[]).forEach((e=>{l(c+"/"+e)?f.push(e):y.push(e)}));const x={name:n,path:e,isDir:s,files:y,dirs:f,data:"",children:[]};s?(t.dirs=f,t.files=y,"auto"===r?x.children=h(c,t):r>0&&(t.depth=r-1,x.children=h(c,t))):o&&(0===i.length||i.filter((e=>n.indexOf(e)>-1)).length>0)&&(x.data=d(c,{encoding:u,flag:a})),g.push(x)})),g}function g(e){if(!l(e)){try{n.default.unlinkSync(e)}catch(e){return console.error(e),!1}return!0}return!1}exports.CSVLikeDefault=["*.csv","*.xls","*.xlsx"],exports.ReadFileRules=f,exports.__node_version=a,exports.isDirectory=l,exports.match=function(e,t){Array.isArray(t)||(t=[t]);for(let r=0;r<t.length;r++)if(new RegExp(`^${t[r].replaceAll("*",".*")}$`).test(e))return!0;return!1},exports.mkdir=i,exports.path=(...e)=>o.default.resolve(...e),exports.pathResolve=e=>(...t)=>o.default.resolve(e,...t),exports.read=function(e,t){const{tree:r=!1,encoding:n="utf8",flag:o="r",withFileTypes:i}=t||{};return l(e)?r?h(e,t):p(e,{encoding:n,withFileTypes:i}):d(e,{encoding:n,flag:o})},exports.readDir=p,exports.readFile=d,exports.readTree=h,exports.rmFile=g,exports.rmdir=function(e,t){if(!l(e))return;const r=[e];let o=!0;!function e(t,n){const i=p(t);c(i)&&i.length>0&&i.forEach((i=>{try{const o=t+"/"+i;return l(o)?(r.push(o),e(o,n)):g(o)}catch(e){console.error(e),o=!1}}))}(e,t);let i=r.length;for(;--i;)if(l(r[i]))try{n.default.rmdirSync(r[i],t)}catch(e){return console.log(e),!1}return o},exports.writeFile=function(e,t,r){try{const o=e.split(/\/|\\/);o.pop();const c=o.join("/");return n.default.existsSync(c)||i(c),n.default.writeFileSync(e,t,r),!0}catch(e){return console.error(e),!1}};
//# sourceMappingURL=index.js.map
