"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),t=require("path");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=r(t);async function i(e,t={}){try{return n.default.mkdirSync(e,{recursive:!0,...t}),!0}catch(e){return console.error(e),!1}}const s=Array.isArray;function c(e){const t=Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1];return"Number"===t&&isNaN(e)?"NaN":t}function u(e){return"Function"===c(e)}function l(e){return n.default.lstatSync(e).isDirectory()}"undefined"!=typeof window&&window?.navigator?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const a=process.version;const f=[];function d(e,t={encoding:"utf8",flag:"r"}){if(f.length>0)for(let r=0;r<f.length;r++){const{test:n,loader:o}=f[r];if("RegExp"===c(n)&&u(o)&&n.test(e))return o(e,t)}return n.default.readFileSync(e,t)}function p(e,t){return n.default.readdirSync(e,t)||[]}function h(e){if(!l(e)){try{n.default.unlinkSync(e)}catch(e){return console.error(e),!1}return!0}return!1}exports.CSVLikeDefault=["*.csv","*.xls","*.xlsx"],exports.ReadFileRules=f,exports.__node_version=a,exports.isDirectory=l,exports.match=function(e,t){Array.isArray(t)||(t=[t]);for(let r=0;r<t.length;r++)if(new RegExp(`^${t[r].replaceAll("*",".*")}$`).test(e))return!0;return!1},exports.mkdir=i,exports.path=(...e)=>o.default.resolve(...e),exports.pathResolve=e=>(...t)=>o.default.resolve(e,...t),exports.readDir=p,exports.readFile=d,exports.readTree=function e(t,r){const{depth:n="auto",ignore:o=[],readData:i=!0,use:s=[],files:c=[],dirs:u=[],encoding:a="utf8",flag:f="r",withFileTypes:h}=r||{},g=[];let y=[];return y=0===c.length&&0===u.length?function(e=[],t){return e.filter(((e="")=>{for(let r=0;r<t.length;r++){const n=t[r];if(n===e)return!1;if(n.indexOf("*")>-1){const[t="",r=""]=n.split("*")||["",""];if(""!==t&&0===e.indexOf(t)||""!==r&&e.indexOf(r)>-1)return!1}}return!0}))}(p(t,{encoding:a,withFileTypes:h}),o)||[]:c.concat(y),y.forEach((o=>{const c=t+"/"+o,u=l(c),h=[],y=[];(u?p(c):[]).forEach((e=>{l(c+"/"+e)?h.push(e):y.push(e)}));const x={name:o,path:t,isDir:u,files:y,dirs:h,data:"",children:[]};u?(r.dirs=h,r.files=y,"auto"===n?x.children=e(c,r):n>0&&(r.depth=n-1,x.children=e(c,r))):i&&(0===s.length||s.filter((e=>o.indexOf(e)>-1)).length>0)&&(x.data=d(c,{encoding:a,flag:f})),g.push(x)})),g},exports.rmFile=h,exports.rmdir=function(e,t){if(!l(e))return;const r=[e];let o=!0;!function e(t,n){const i=p(t);s(i)&&i.length>0&&i.forEach((i=>{try{const o=t+"/"+i;return l(o)?(r.push(o),e(o,n)):h(o)}catch(e){console.error(e),o=!1}}))}(e,t);let i=r.length;for(;--i;)if(l(r[i]))try{n.default.rmdirSync(r[i],t)}catch(e){return console.log(e),!1}return o},exports.writeFile=function(e,t,r){try{const o=e.split(/\/|\\/);o.pop();const s=o.join("/");return n.default.existsSync(s)||i(s),n.default.writeFileSync(e,t,r),!0}catch(e){return console.error(e),!1}};
//# sourceMappingURL=index.js.map
